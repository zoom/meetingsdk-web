(()=>{var t={7201:(t,e,r)=>{t.exports=r(3042)},1829:(t,e,r)=>{"use strict";var s=r(2222);t.exports=s},6040:(t,e,r)=>{"use strict";var s=r(8251);t.exports=s},7264:(t,e,r)=>{"use strict";var s=r(4139);r(768),r(8549),r(7152),r(1372),t.exports=s},9692:(t,e,r)=>{"use strict";var s=r(7045);t.exports=s},5663:(t,e,r)=>{"use strict";var s=r(70);t.exports=s},6823:(t,e,r)=>{"use strict";var s=r(8280),n=r(2017),o=String.prototype;t.exports=function(t){var e=t.replaceAll;return"string"==typeof t||t===o||s(o,t)&&e===o.replaceAll?n:e}},1926:(t,e,r)=>{"use strict";r(6750);var s=r(2046).Object,n=t.exports=function(t,e,r){return s.defineProperty(t,e,r)};s.defineProperty.sham&&(n.sham=!0)},2017:(t,e,r)=>{"use strict";r(1398),r(1995),r(929);var s=r(1747);t.exports=s("String","replaceAll")},3842:(t,e,r)=>{"use strict";r(8545),r(3643),r(4452),r(3997),r(5084),r(2596),r(5721),r(4954),r(4123),r(3377),r(2230),r(5344),r(1660),r(4610),r(3669),r(4810),r(3325),r(7024),r(8172),r(5205);var s=r(2046);t.exports=s.Symbol},1730:(t,e,r)=>{"use strict";r(9363),r(3643),r(7057),r(4954);var s=r(560);t.exports=s.f("iterator")},1661:(t,e,r)=>{"use strict";r(8537),r(3669);var s=r(560);t.exports=s.f("toPrimitive")},3042:(t,e,r)=>{"use strict";t.exports=r(9604)},9604:(t,e,r)=>{"use strict";r(6038);var s=r(1829);t.exports=s},4997:(t,e,r)=>{"use strict";var s=r(6040);t.exports=s},2321:(t,e,r)=>{"use strict";var s=r(7264);r(3939),r(1785),r(1697),r(4664),r(3422),r(36),r(8703),r(6878),r(9671),r(359),t.exports=s},2231:(t,e,r)=>{"use strict";var s=r(9692);t.exports=s},9280:(t,e,r)=>{"use strict";var s=r(5663);t.exports=s},2159:(t,e,r)=>{"use strict";var s=r(2250),n=r(4640),o=TypeError;t.exports=function(t){if(s(t))return t;throw new o(n(t)+" is not a function")}},43:(t,e,r)=>{"use strict";var s=r(4018),n=String,o=TypeError;t.exports=function(t){if(s(t))return t;throw new o("Can't set "+n(t)+" as a prototype")}},2156:t=>{"use strict";t.exports=function(){}},6624:(t,e,r)=>{"use strict";var s=r(6285),n=String,o=TypeError;t.exports=function(t){if(s(t))return t;throw new o(n(t)+" is not an object")}},4436:(t,e,r)=>{"use strict";var s=r(7374),n=r(4849),o=r(575),i=function(t){return function(e,r,i){var a=s(e),c=o(a);if(0===c)return!t&&-1;var u,l=n(i,c);if(t&&r!=r){for(;c>l;)if((u=a[l++])!=u)return!0}else for(;c>l;l++)if((t||l in a)&&a[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:i(!0),indexOf:i(!1)}},726:(t,e,r)=>{"use strict";var s=r(8311),n=r(1907),o=r(6946),i=r(9298),a=r(575),c=r(6968),u=n([].push),l=function(t){var e=1===t,r=2===t,n=3===t,l=4===t,h=6===t,_=7===t,d=5===t||h;return function(m,f,p,g){for(var y,v,b=i(m),w=o(b),M=a(w),S=s(f,p),A=0,E=g||c,T=e?E(m,M):r||_?E(m,0):void 0;M>A;A++)if((d||A in w)&&(v=S(y=w[A],A,b),t))if(e)T[A]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return A;case 2:u(T,y)}else switch(t){case 4:return!1;case 7:u(T,y)}return h?-1:n||l?l:T}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},7171:(t,e,r)=>{"use strict";var s=r(8828),n=r(6264),o=r(798),i=n("species");t.exports=function(t){return o>=51||!s((function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},3427:(t,e,r)=>{"use strict";var s=r(1907);t.exports=s([].slice)},4010:(t,e,r)=>{"use strict";var s=r(1793),n=r(5468),o=r(6285),i=r(6264)("species"),a=Array;t.exports=function(t){var e;return s(t)&&(e=t.constructor,(n(e)&&(e===a||s(e.prototype))||o(e)&&null===(e=e[i]))&&(e=void 0)),void 0===e?a:e}},6968:(t,e,r)=>{"use strict";var s=r(4010);t.exports=function(t,e){return new(s(t))(0===e?0:e)}},5807:(t,e,r)=>{"use strict";var s=r(1907),n=s({}.toString),o=s("".slice);t.exports=function(t){return o(n(t),8,-1)}},3948:(t,e,r)=>{"use strict";var s=r(2623),n=r(2250),o=r(5807),i=r(6264)("toStringTag"),a=Object,c="Arguments"===o(function(){return arguments}());t.exports=s?o:function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=a(t),i))?r:c?o(e):"Object"===(s=o(e))&&n(e.callee)?"Arguments":s}},7382:(t,e,r)=>{"use strict";var s=r(8828);t.exports=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},9550:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},1626:(t,e,r)=>{"use strict";var s=r(9447),n=r(4284),o=r(5817);t.exports=s?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},5817:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},5543:(t,e,r)=>{"use strict";var s=r(9447),n=r(4284),o=r(5817);t.exports=function(t,e,r){s?n.f(t,e,o(0,r)):t[e]=r}},9251:(t,e,r)=>{"use strict";var s=r(4284);t.exports=function(t,e,r){return s.f(t,e,r)}},8055:(t,e,r)=>{"use strict";var s=r(1626);t.exports=function(t,e,r,n){return n&&n.enumerable?t[e]=r:s(t,e,r),t}},2532:(t,e,r)=>{"use strict";var s=r(5951),n=Object.defineProperty;t.exports=function(t,e){try{n(s,t,{value:e,configurable:!0,writable:!0})}catch(r){s[t]=e}return e}},9447:(t,e,r)=>{"use strict";var s=r(8828);t.exports=!s((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},9552:(t,e,r)=>{"use strict";var s=r(5951),n=r(6285),o=s.document,i=n(o)&&n(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},8024:t=>{"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},9287:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},376:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6794:(t,e,r)=>{"use strict";var s=r(5951).navigator,n=s&&s.userAgent;t.exports=n?String(n):""},798:(t,e,r)=>{"use strict";var s,n,o=r(5951),i=r(6794),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(n=(s=l.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!n&&i&&(!(s=i.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=i.match(/Chrome\/(\d+)/))&&(n=+s[1]),t.exports=n},1091:(t,e,r)=>{"use strict";var s=r(5951),n=r(6024),o=r(2361),i=r(2250),a=r(3846).f,c=r(7463),u=r(2046),l=r(8311),h=r(1626),_=r(9724);r(6128);var d=function(t){var e=function(r,s,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,s)}return new t(r,s,o)}return n(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var r,n,m,f,p,g,y,v,b,w=t.target,M=t.global,S=t.stat,A=t.proto,E=M?s:S?s[w]:s[w]&&s[w].prototype,T=M?u:u[w]||h(u,w,{})[w],C=T.prototype;for(f in e)n=!(r=c(M?f:w+(S?".":"#")+f,t.forced))&&E&&_(E,f),g=T[f],n&&(y=t.dontCallGetSet?(b=a(E,f))&&b.value:E[f]),p=n&&y?y:e[f],(r||A||typeof g!=typeof p)&&(v=t.bind&&n?l(p,s):t.wrap&&n?d(p):A&&i(p)?o(p):p,(t.sham||p&&p.sham||g&&g.sham)&&h(v,"sham",!0),h(T,f,v),A&&(_(u,m=w+"Prototype")||h(u,m,{}),h(u[m],f,p),t.real&&C&&(r||!C[f])&&h(C,f,p)))}},8828:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},6024:(t,e,r)=>{"use strict";var s=r(1505),n=Function.prototype,o=n.apply,i=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(s?i.bind(o):function(){return i.apply(o,arguments)})},8311:(t,e,r)=>{"use strict";var s=r(2361),n=r(2159),o=r(1505),i=s(s.bind);t.exports=function(t,e){return n(t),void 0===e?t:o?i(t,e):function(){return t.apply(e,arguments)}}},1505:(t,e,r)=>{"use strict";var s=r(8828);t.exports=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},3930:(t,e,r)=>{"use strict";var s=r(1505),n=Function.prototype.call;t.exports=s?n.bind(n):function(){return n.apply(n,arguments)}},6833:(t,e,r)=>{"use strict";var s=r(9447),n=r(9724),o=Function.prototype,i=s&&Object.getOwnPropertyDescriptor,a=n(o,"name"),c=a&&"something"===function(){}.name,u=a&&(!s||s&&i(o,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},1871:(t,e,r)=>{"use strict";var s=r(1907),n=r(2159);t.exports=function(t,e,r){try{return s(n(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},2361:(t,e,r)=>{"use strict";var s=r(5807),n=r(1907);t.exports=function(t){if("Function"===s(t))return n(t)}},1907:(t,e,r)=>{"use strict";var s=r(1505),n=Function.prototype,o=n.call,i=s&&n.bind.bind(o,o);t.exports=s?i:function(t){return function(){return o.apply(t,arguments)}}},1747:(t,e,r)=>{"use strict";var s=r(5951),n=r(2046);t.exports=function(t,e){var r=n[t+"Prototype"],o=r&&r[e];if(o)return o;var i=s[t],a=i&&i.prototype;return a&&a[e]}},5582:(t,e,r)=>{"use strict";var s=r(2046),n=r(5951),o=r(2250),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(s[t])||i(n[t]):s[t]&&s[t][e]||n[t]&&n[t][e]}},6656:(t,e,r)=>{"use strict";var s=r(1907),n=r(1793),o=r(2250),i=r(5807),a=r(160),c=s([].push);t.exports=function(t){if(o(t))return t;if(n(t)){for(var e=t.length,r=[],s=0;s<e;s++){var u=t[s];"string"==typeof u?c(r,u):"number"!=typeof u&&"Number"!==i(u)&&"String"!==i(u)||c(r,a(u))}var l=r.length,h=!0;return function(t,e){if(h)return h=!1,e;if(n(this))return e;for(var s=0;s<l;s++)if(r[s]===t)return e}}}},9367:(t,e,r)=>{"use strict";var s=r(2159),n=r(7136);t.exports=function(t,e){var r=t[e];return n(r)?void 0:s(r)}},7703:(t,e,r)=>{"use strict";var s=r(1907),n=r(9298),o=Math.floor,i=s("".charAt),a=s("".replace),c=s("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,s,h,_){var d=r+t.length,m=s.length,f=l;return void 0!==h&&(h=n(h),f=u),a(_,f,(function(n,a){var u;switch(i(a,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,r);case"'":return c(e,d);case"<":u=h[c(a,1,-1)];break;default:var l=+a;if(0===l)return n;if(l>m){var _=o(l/10);return 0===_?n:_<=m?void 0===s[_-1]?i(a,1):s[_-1]+i(a,1):n}u=s[l-1]}return void 0===u?"":u}))}},5951:function(t,e,r){"use strict";var s=function(t){return t&&t.Math===Math&&t};t.exports=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof r.g&&r.g)||s("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9724:(t,e,r)=>{"use strict";var s=r(1907),n=r(9298),o=s({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(n(t),e)}},8530:t=>{"use strict";t.exports={}},2416:(t,e,r)=>{"use strict";var s=r(5582);t.exports=s("document","documentElement")},3648:(t,e,r)=>{"use strict";var s=r(9447),n=r(8828),o=r(9552);t.exports=!s&&!n((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},6946:(t,e,r)=>{"use strict";var s=r(1907),n=r(8828),o=r(5807),i=Object,a=s("".split);t.exports=n((function(){return!i("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):i(t)}:i},2647:(t,e,r)=>{"use strict";var s=r(1907),n=r(2250),o=r(6128),i=s(Function.toString);n(o.inspectSource)||(o.inspectSource=function(t){return i(t)}),t.exports=o.inspectSource},4932:(t,e,r)=>{"use strict";var s,n,o,i=r(551),a=r(5951),c=r(6285),u=r(1626),l=r(9724),h=r(6128),_=r(2522),d=r(8530),m="Object already initialized",f=a.TypeError,p=a.WeakMap;if(i||h.state){var g=h.state||(h.state=new p);g.get=g.get,g.has=g.has,g.set=g.set,s=function(t,e){if(g.has(t))throw new f(m);return e.facade=t,g.set(t,e),e},n=function(t){return g.get(t)||{}},o=function(t){return g.has(t)}}else{var y=_("state");d[y]=!0,s=function(t,e){if(l(t,y))throw new f(m);return e.facade=t,u(t,y,e),e},n=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:s,get:n,has:o,enforce:function(t){return o(t)?n(t):s(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=n(e)).type!==t)throw new f("Incompatible receiver, "+t+" required");return r}}}},1793:(t,e,r)=>{"use strict";var s=r(5807);t.exports=Array.isArray||function(t){return"Array"===s(t)}},2250:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},5468:(t,e,r)=>{"use strict";var s=r(1907),n=r(8828),o=r(2250),i=r(3948),a=r(5582),c=r(2647),u=function(){},l=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,_=s(h.exec),d=!h.test(u),m=function(t){if(!o(t))return!1;try{return l(u,[],t),!0}catch(t){return!1}},f=function(t){if(!o(t))return!1;switch(i(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!_(h,c(t))}catch(t){return!0}};f.sham=!0,t.exports=!l||n((function(){var t;return m(m.call)||!m(Object)||!m((function(){t=!0}))||t}))?f:m},7463:(t,e,r)=>{"use strict";var s=r(8828),n=r(2250),o=/#|\.prototype\./,i=function(t,e){var r=c[a(t)];return r===l||r!==u&&(n(e)?s(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",l=i.POLYFILL="P";t.exports=i},7136:t=>{"use strict";t.exports=function(t){return null==t}},6285:(t,e,r)=>{"use strict";var s=r(2250);t.exports=function(t){return"object"==typeof t?null!==t:s(t)}},4018:(t,e,r)=>{"use strict";var s=r(6285);t.exports=function(t){return s(t)||null===t}},7376:t=>{"use strict";t.exports=!0},2087:(t,e,r)=>{"use strict";var s=r(6285),n=r(5807),o=r(6264)("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===n(t))}},5594:(t,e,r)=>{"use strict";var s=r(5582),n=r(2250),o=r(8280),i=r(1175),a=Object;t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=s("Symbol");return n(e)&&o(e.prototype,a(t))}},7181:(t,e,r)=>{"use strict";var s=r(5116).IteratorPrototype,n=r(8075),o=r(5817),i=r(4840),a=r(3742),c=function(){return this};t.exports=function(t,e,r,u){var l=e+" Iterator";return t.prototype=n(s,{next:o(+!u,r)}),i(t,l,!1,!0),a[l]=c,t}},183:(t,e,r)=>{"use strict";var s=r(1091),n=r(3930),o=r(7376),i=r(6833),a=r(2250),c=r(7181),u=r(5972),l=r(9192),h=r(4840),_=r(1626),d=r(8055),m=r(6264),f=r(3742),p=r(5116),g=i.PROPER,y=i.CONFIGURABLE,v=p.IteratorPrototype,b=p.BUGGY_SAFARI_ITERATORS,w=m("iterator"),M="keys",S="values",A="entries",E=function(){return this};t.exports=function(t,e,r,i,m,p,T){c(r,e,i);var C,k,R,P=function(t){if(t===m&&F)return F;if(!b&&t&&t in O)return O[t];switch(t){case M:case S:case A:return function(){return new r(this,t)}}return function(){return new r(this)}},I=e+" Iterator",x=!1,O=t.prototype,D=O[w]||O["@@iterator"]||m&&O[m],F=!b&&D||P(m),L="Array"===e&&O.entries||D;if(L&&(C=u(L.call(new t)))!==Object.prototype&&C.next&&(o||u(C)===v||(l?l(C,v):a(C[w])||d(C,w,E)),h(C,I,!0,!0),o&&(f[I]=E)),g&&m===S&&D&&D.name!==S&&(!o&&y?_(O,"name",S):(x=!0,F=function(){return n(D,this)})),m)if(k={values:P(S),keys:p?F:P(M),entries:P(A)},T)for(R in k)(b||x||!(R in O))&&d(O,R,k[R]);else s({target:e,proto:!0,forced:b||x},k);return o&&!T||O[w]===F||d(O,w,F,{name:m}),f[e]=F,k}},5116:(t,e,r)=>{"use strict";var s,n,o,i=r(8828),a=r(2250),c=r(6285),u=r(8075),l=r(5972),h=r(8055),_=r(6264),d=r(7376),m=_("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(n=l(l(o)))!==Object.prototype&&(s=n):f=!0),!c(s)||i((function(){var t={};return s[m].call(t)!==t}))?s={}:d&&(s=u(s)),a(s[m])||h(s,m,(function(){return this})),t.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:f}},3742:t=>{"use strict";t.exports={}},575:(t,e,r)=>{"use strict";var s=r(3121);t.exports=function(t){return s(t.length)}},1176:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var s=+t;return(s>0?r:e)(s)}},8075:(t,e,r)=>{"use strict";var s,n=r(6624),o=r(2220),i=r(376),a=r(8530),c=r(2416),u=r(9552),l=r(2522),h="prototype",_="script",d=l("IE_PROTO"),m=function(){},f=function(t){return"<"+_+">"+t+"</"+_+">"},p=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{s=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;g="undefined"!=typeof document?document.domain&&s?p(s):(e=u("iframe"),r="java"+_+":",e.style.display="none",c.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):p(s);for(var n=i.length;n--;)delete g[h][i[n]];return g()};a[d]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(m[h]=n(t),r=new m,m[h]=null,r[d]=t):r=g(),void 0===e?r:o.f(r,e)}},2220:(t,e,r)=>{"use strict";var s=r(9447),n=r(8661),o=r(4284),i=r(6624),a=r(7374),c=r(2875);e.f=s&&!n?Object.defineProperties:function(t,e){i(t);for(var r,s=a(e),n=c(e),u=n.length,l=0;u>l;)o.f(t,r=n[l++],s[r]);return t}},4284:(t,e,r)=>{"use strict";var s=r(9447),n=r(3648),o=r(8661),i=r(6624),a=r(470),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",_="configurable",d="writable";e.f=s?o?function(t,e,r){if(i(t),e=a(e),i(r),"function"==typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var s=l(t,e);s&&s[d]&&(t[e]=r.value,r={configurable:_ in r?r[_]:s[_],enumerable:h in r?r[h]:s[h],writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(i(t),e=a(e),i(r),n)try{return u(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},3846:(t,e,r)=>{"use strict";var s=r(9447),n=r(3930),o=r(2574),i=r(5817),a=r(7374),c=r(470),u=r(9724),l=r(3648),h=Object.getOwnPropertyDescriptor;e.f=s?h:function(t,e){if(t=a(t),e=c(e),l)try{return h(t,e)}catch(t){}if(u(t,e))return i(!n(o.f,t,e),t[e])}},5407:(t,e,r)=>{"use strict";var s=r(5807),n=r(7374),o=r(4443).f,i=r(3427),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"===s(t)?function(t){try{return o(t)}catch(t){return i(a)}}(t):o(n(t))}},4443:(t,e,r)=>{"use strict";var s=r(3045),n=r(376).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return s(t,n)}},7170:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},5972:(t,e,r)=>{"use strict";var s=r(9724),n=r(2250),o=r(9298),i=r(2522),a=r(7382),c=i("IE_PROTO"),u=Object,l=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=o(t);if(s(e,c))return e[c];var r=e.constructor;return n(r)&&e instanceof r?r.prototype:e instanceof u?l:null}},8280:(t,e,r)=>{"use strict";var s=r(1907);t.exports=s({}.isPrototypeOf)},3045:(t,e,r)=>{"use strict";var s=r(1907),n=r(9724),o=r(7374),i=r(4436).indexOf,a=r(8530),c=s([].push);t.exports=function(t,e){var r,s=o(t),u=0,l=[];for(r in s)!n(a,r)&&n(s,r)&&c(l,r);for(;e.length>u;)n(s,r=e[u++])&&(~i(l,r)||c(l,r));return l}},2875:(t,e,r)=>{"use strict";var s=r(3045),n=r(376);t.exports=Object.keys||function(t){return s(t,n)}},2574:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,n=s&&!r.call({1:2},1);e.f=n?function(t){var e=s(this,t);return!!e&&e.enumerable}:r},9192:(t,e,r)=>{"use strict";var s=r(1871),n=r(6285),o=r(4239),i=r(43);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=s(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,s){return o(r),i(s),n(r)?(e?t(r,s):r.__proto__=s,r):r}}():void 0)},4878:(t,e,r)=>{"use strict";var s=r(2623),n=r(3948);t.exports=s?{}.toString:function(){return"[object "+n(this)+"]"}},581:(t,e,r)=>{"use strict";var s=r(3930),n=r(2250),o=r(6285),i=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&n(r=t.toString)&&!o(a=s(r,t)))return a;if(n(r=t.valueOf)&&!o(a=s(r,t)))return a;if("string"!==e&&n(r=t.toString)&&!o(a=s(r,t)))return a;throw new i("Can't convert object to primitive value")}},2046:t=>{"use strict";t.exports={}},5606:(t,e,r)=>{"use strict";var s=r(6624);t.exports=function(){var t=s(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},663:(t,e,r)=>{"use strict";var s=r(3930),n=r(9724),o=r(8280),i=r(5606),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||n(t,"flags")||!o(a,t)?e:s(i,t)}},4239:(t,e,r)=>{"use strict";var s=r(7136),n=TypeError;t.exports=function(t){if(s(t))throw new n("Can't call method on "+t);return t}},4840:(t,e,r)=>{"use strict";var s=r(2623),n=r(4284).f,o=r(1626),i=r(9724),a=r(4878),c=r(6264)("toStringTag");t.exports=function(t,e,r,u){var l=r?t:t&&t.prototype;l&&(i(l,c)||n(l,c,{configurable:!0,value:e}),u&&!s&&o(l,"toString",a))}},2522:(t,e,r)=>{"use strict";var s=r(5816),n=r(6499),o=s("keys");t.exports=function(t){return o[t]||(o[t]=n(t))}},6128:(t,e,r)=>{"use strict";var s=r(7376),n=r(5951),o=r(2532),i="__core-js_shared__",a=t.exports=n[i]||o(i,{});(a.versions||(a.versions=[])).push({version:"3.39.0",mode:s?"pure":"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5816:(t,e,r)=>{"use strict";var s=r(6128);t.exports=function(t,e){return s[t]||(s[t]=e||{})}},1470:(t,e,r)=>{"use strict";var s=r(1907),n=r(5482),o=r(160),i=r(4239),a=s("".charAt),c=s("".charCodeAt),u=s("".slice),l=function(t){return function(e,r){var s,l,h=o(i(e)),_=n(r),d=h.length;return _<0||_>=d?t?"":void 0:(s=c(h,_))<55296||s>56319||_+1===d||(l=c(h,_+1))<56320||l>57343?t?a(h,_):s:t?u(h,_,_+2):l-56320+(s-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},9846:(t,e,r)=>{"use strict";var s=r(798),n=r(8828),o=r(5951).String;t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&s&&s<41}))},3467:(t,e,r)=>{"use strict";var s=r(3930),n=r(5582),o=r(6264),i=r(8055);t.exports=function(){var t=n("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,a=o("toPrimitive");e&&!e[a]&&i(e,a,(function(t){return s(r,this)}),{arity:1})}},2595:(t,e,r)=>{"use strict";var s=r(5582),n=r(1907),o=s("Symbol"),i=o.keyFor,a=n(o.prototype.valueOf);t.exports=o.isRegisteredSymbol||function(t){try{return void 0!==i(a(t))}catch(t){return!1}}},9197:(t,e,r)=>{"use strict";for(var s=r(5816),n=r(5582),o=r(1907),i=r(5594),a=r(6264),c=n("Symbol"),u=c.isWellKnownSymbol,l=n("Object","getOwnPropertyNames"),h=o(c.prototype.valueOf),_=s("wks"),d=0,m=l(c),f=m.length;d<f;d++)try{var p=m[d];i(c[p])&&a(p)}catch(t){}t.exports=function(t){if(u&&u(t))return!0;try{for(var e=h(t),r=0,s=l(_),n=s.length;r<n;r++)if(_[s[r]]==e)return!0}catch(t){}return!1}},4411:(t,e,r)=>{"use strict";var s=r(9846);t.exports=s&&!!Symbol.for&&!!Symbol.keyFor},4849:(t,e,r)=>{"use strict";var s=r(5482),n=Math.max,o=Math.min;t.exports=function(t,e){var r=s(t);return r<0?n(r+e,0):o(r,e)}},7374:(t,e,r)=>{"use strict";var s=r(6946),n=r(4239);t.exports=function(t){return s(n(t))}},5482:(t,e,r)=>{"use strict";var s=r(1176);t.exports=function(t){var e=+t;return e!=e||0===e?0:s(e)}},3121:(t,e,r)=>{"use strict";var s=r(5482),n=Math.min;t.exports=function(t){var e=s(t);return e>0?n(e,9007199254740991):0}},9298:(t,e,r)=>{"use strict";var s=r(4239),n=Object;t.exports=function(t){return n(s(t))}},6028:(t,e,r)=>{"use strict";var s=r(3930),n=r(6285),o=r(5594),i=r(9367),a=r(581),c=r(6264),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!n(t)||o(t))return t;var r,c=i(t,l);if(c){if(void 0===e&&(e="default"),r=s(c,t,e),!n(r)||o(r))return r;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},470:(t,e,r)=>{"use strict";var s=r(6028),n=r(5594);t.exports=function(t){var e=s(t,"string");return n(e)?e:e+""}},2623:(t,e,r)=>{"use strict";var s={};s[r(6264)("toStringTag")]="z",t.exports="[object z]"===String(s)},160:(t,e,r)=>{"use strict";var s=r(3948),n=String;t.exports=function(t){if("Symbol"===s(t))throw new TypeError("Cannot convert a Symbol value to a string");return n(t)}},4640:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},6499:(t,e,r)=>{"use strict";var s=r(1907),n=0,o=Math.random(),i=s(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++n+o,36)}},1175:(t,e,r)=>{"use strict";var s=r(9846);t.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8661:(t,e,r)=>{"use strict";var s=r(9447),n=r(8828);t.exports=s&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},551:(t,e,r)=>{"use strict";var s=r(5951),n=r(2250),o=s.WeakMap;t.exports=n(o)&&/native code/.test(String(o))},366:(t,e,r)=>{"use strict";var s=r(2046),n=r(9724),o=r(560),i=r(4284).f;t.exports=function(t){var e=s.Symbol||(s.Symbol={});n(e,t)||i(e,t,{value:o.f(t)})}},560:(t,e,r)=>{"use strict";var s=r(6264);e.f=s},6264:(t,e,r)=>{"use strict";var s=r(5951),n=r(5816),o=r(9724),i=r(6499),a=r(9846),c=r(1175),u=s.Symbol,l=n("wks"),h=c?u.for||u:u&&u.withoutSetter||i;t.exports=function(t){return o(l,t)||(l[t]=a&&o(u,t)?u[t]:h("Symbol."+t)),l[t]}},8545:(t,e,r)=>{"use strict";var s=r(1091),n=r(8828),o=r(1793),i=r(6285),a=r(9298),c=r(575),u=r(8024),l=r(5543),h=r(6968),_=r(7171),d=r(6264),m=r(798),f=d("isConcatSpreadable"),p=m>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),g=function(t){if(!i(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)};s({target:"Array",proto:!0,arity:1,forced:!p||!_("concat")},{concat:function(t){var e,r,s,n,o,i=a(this),_=h(i,0),d=0;for(e=-1,s=arguments.length;e<s;e++)if(g(o=-1===e?i:arguments[e]))for(n=c(o),u(d+n),r=0;r<n;r++,d++)r in o&&l(_,d,o[r]);else u(d+1),l(_,d++,o);return _.length=d,_}})},9363:(t,e,r)=>{"use strict";var s=r(7374),n=r(2156),o=r(3742),i=r(4932),a=r(4284).f,c=r(183),u=r(9550),l=r(7376),h=r(9447),_="Array Iterator",d=i.set,m=i.getterFor(_);t.exports=c(Array,"Array",(function(t,e){d(this,{type:_,target:s(t),index:0,kind:e})}),(function(){var t=m(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,u(void 0,!0);switch(t.kind){case"keys":return u(r,!1);case"values":return u(e[r],!1)}return u([r,e[r]],!1)}),"values");var f=o.Arguments=o.Array;if(n("keys"),n("values"),n("entries"),!l&&h&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(t){}},8537:()=>{},9721:(t,e,r)=>{"use strict";var s=r(1091),n=r(5582),o=r(6024),i=r(3930),a=r(1907),c=r(8828),u=r(2250),l=r(5594),h=r(3427),_=r(6656),d=r(9846),m=String,f=n("JSON","stringify"),p=a(/./.exec),g=a("".charAt),y=a("".charCodeAt),v=a("".replace),b=a(1..toString),w=/[\uD800-\uDFFF]/g,M=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,A=!d||c((function(){var t=n("Symbol")("stringify detection");return"[null]"!==f([t])||"{}"!==f({a:t})||"{}"!==f(Object(t))})),E=c((function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead")})),T=function(t,e){var r=h(arguments),s=_(e);if(u(s)||void 0!==t&&!l(t))return r[1]=function(t,e){if(u(s)&&(e=i(s,this,m(t),e)),!l(e))return e},o(f,null,r)},C=function(t,e,r){var s=g(r,e-1),n=g(r,e+1);return p(M,t)&&!p(S,n)||p(S,t)&&!p(M,s)?"\\u"+b(y(t,0),16):t};f&&s({target:"JSON",stat:!0,arity:3,forced:A||E},{stringify:function(t,e,r){var s=h(arguments),n=o(A?T:f,null,s);return E&&"string"==typeof n?v(n,w,C):n}})},7024:(t,e,r)=>{"use strict";var s=r(5951);r(4840)(s.JSON,"JSON",!0)},8172:()=>{},6750:(t,e,r)=>{"use strict";var s=r(1091),n=r(9447),o=r(4284).f;s({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!n},{defineProperty:o})},5264:(t,e,r)=>{"use strict";var s=r(1091),n=r(9846),o=r(8828),i=r(7170),a=r(9298);s({target:"Object",stat:!0,forced:!n||o((function(){i.f(1)}))},{getOwnPropertySymbols:function(t){var e=i.f;return e?e(a(t)):[]}})},3643:()=>{},5205:()=>{},1398:()=>{},7057:(t,e,r)=>{"use strict";var s=r(1470).charAt,n=r(160),o=r(4932),i=r(183),a=r(9550),c="String Iterator",u=o.set,l=o.getterFor(c);i(String,"String",(function(t){u(this,{type:c,string:n(t),index:0})}),(function(){var t,e=l(this),r=e.string,n=e.index;return n>=r.length?a(void 0,!0):(t=s(r,n),e.index+=t.length,a(t,!1))}))},929:(t,e,r)=>{"use strict";var s=r(1091),n=r(3930),o=r(1907),i=r(4239),a=r(2250),c=r(7136),u=r(2087),l=r(160),h=r(9367),_=r(663),d=r(7703),m=r(6264),f=r(7376),p=m("replace"),g=TypeError,y=o("".indexOf),v=o("".replace),b=o("".slice),w=Math.max;s({target:"String",proto:!0},{replaceAll:function(t,e){var r,s,o,m,M,S,A,E,T,C,k=i(this),R=0,P="";if(!c(t)){if((r=u(t))&&(s=l(i(_(t))),!~y(s,"g")))throw new g("`.replaceAll` does not allow non-global regexes");if(o=h(t,p))return n(o,t,k,e);if(f&&r)return v(l(k),t,e)}for(m=l(k),M=l(t),(S=a(e))||(e=l(e)),A=M.length,E=w(1,A),T=y(m,M);-1!==T;)C=S?l(e(M,T,m)):d(M,m,T,[],void 0,e),P+=b(m,R,T)+C,R=T+A,T=T+E>m.length?-1:y(m,M,T+E);return R<m.length&&(P+=b(m,R)),P}})},1995:()=>{},3997:(t,e,r)=>{"use strict";r(366)("asyncIterator")},3674:(t,e,r)=>{"use strict";var s=r(1091),n=r(5951),o=r(3930),i=r(1907),a=r(7376),c=r(9447),u=r(9846),l=r(8828),h=r(9724),_=r(8280),d=r(6624),m=r(7374),f=r(470),p=r(160),g=r(5817),y=r(8075),v=r(2875),b=r(4443),w=r(5407),M=r(7170),S=r(3846),A=r(4284),E=r(2220),T=r(2574),C=r(8055),k=r(9251),R=r(5816),P=r(2522),I=r(8530),x=r(6499),O=r(6264),D=r(560),F=r(366),L=r(3467),U=r(4840),N=r(4932),H=r(726).forEach,q=P("hidden"),B="Symbol",Q="prototype",j=N.set,W=N.getterFor(B),V=Object[Q],Y=n.Symbol,z=Y&&Y[Q],G=n.RangeError,K=n.TypeError,X=n.QObject,J=S.f,$=A.f,Z=w.f,tt=T.f,et=i([].push),rt=R("symbols"),st=R("op-symbols"),nt=R("wks"),ot=!X||!X[Q]||!X[Q].findChild,it=function(t,e,r){var s=J(V,e);s&&delete V[e],$(t,e,r),s&&t!==V&&$(V,e,s)},at=c&&l((function(){return 7!==y($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?it:$,ct=function(t,e){var r=rt[t]=y(z);return j(r,{type:B,tag:t,description:e}),c||(r.description=e),r},ut=function(t,e,r){t===V&&ut(st,e,r),d(t);var s=f(e);return d(r),h(rt,s)?(r.enumerable?(h(t,q)&&t[q][s]&&(t[q][s]=!1),r=y(r,{enumerable:g(0,!1)})):(h(t,q)||$(t,q,g(1,y(null))),t[q][s]=!0),at(t,s,r)):$(t,s,r)},lt=function(t,e){d(t);var r=m(e),s=v(r).concat(mt(r));return H(s,(function(e){c&&!o(ht,r,e)||ut(t,e,r[e])})),t},ht=function(t){var e=f(t),r=o(tt,this,e);return!(this===V&&h(rt,e)&&!h(st,e))&&(!(r||!h(this,e)||!h(rt,e)||h(this,q)&&this[q][e])||r)},_t=function(t,e){var r=m(t),s=f(e);if(r!==V||!h(rt,s)||h(st,s)){var n=J(r,s);return!n||!h(rt,s)||h(r,q)&&r[q][s]||(n.enumerable=!0),n}},dt=function(t){var e=Z(m(t)),r=[];return H(e,(function(t){h(rt,t)||h(I,t)||et(r,t)})),r},mt=function(t){var e=t===V,r=Z(e?st:m(t)),s=[];return H(r,(function(t){!h(rt,t)||e&&!h(V,t)||et(s,rt[t])})),s};u||(C(z=(Y=function(){if(_(z,this))throw new K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?p(arguments[0]):void 0,e=x(t),r=function(t){var s=void 0===this?n:this;s===V&&o(r,st,t),h(s,q)&&h(s[q],e)&&(s[q][e]=!1);var i=g(1,t);try{at(s,e,i)}catch(t){if(!(t instanceof G))throw t;it(s,e,i)}};return c&&ot&&at(V,e,{configurable:!0,set:r}),ct(e,t)})[Q],"toString",(function(){return W(this).tag})),C(Y,"withoutSetter",(function(t){return ct(x(t),t)})),T.f=ht,A.f=ut,E.f=lt,S.f=_t,b.f=w.f=dt,M.f=mt,D.f=function(t){return ct(O(t),t)},c&&(k(z,"description",{configurable:!0,get:function(){return W(this).description}}),a||C(V,"propertyIsEnumerable",ht,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Y}),H(v(nt),(function(t){F(t)})),s({target:B,stat:!0,forced:!u},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),s({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(t,e){return void 0===e?y(t):lt(y(t),e)},defineProperty:ut,defineProperties:lt,getOwnPropertyDescriptor:_t}),s({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:dt}),L(),U(Y,B),I[q]=!0},5084:()=>{},3313:(t,e,r)=>{"use strict";var s=r(1091),n=r(5582),o=r(9724),i=r(160),a=r(5816),c=r(4411),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=i(t);if(o(u,e))return u[e];var r=n("Symbol")(e);return u[e]=r,l[r]=e,r}})},2596:(t,e,r)=>{"use strict";r(366)("hasInstance")},5721:(t,e,r)=>{"use strict";r(366)("isConcatSpreadable")},4954:(t,e,r)=>{"use strict";r(366)("iterator")},4452:(t,e,r)=>{"use strict";r(3674),r(3313),r(751),r(9721),r(5264)},751:(t,e,r)=>{"use strict";var s=r(1091),n=r(9724),o=r(5594),i=r(4640),a=r(5816),c=r(4411),u=a("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!o(t))throw new TypeError(i(t)+" is not a symbol");if(n(u,t))return u[t]}})},3377:(t,e,r)=>{"use strict";r(366)("matchAll")},4123:(t,e,r)=>{"use strict";r(366)("match")},2230:(t,e,r)=>{"use strict";r(366)("replace")},5344:(t,e,r)=>{"use strict";r(366)("search")},1660:(t,e,r)=>{"use strict";r(366)("species")},4610:(t,e,r)=>{"use strict";r(366)("split")},3669:(t,e,r)=>{"use strict";var s=r(366),n=r(3467);s("toPrimitive"),n()},4810:(t,e,r)=>{"use strict";var s=r(5582),n=r(366),o=r(4840);n("toStringTag"),o(s("Symbol"),"Symbol")},3325:(t,e,r)=>{"use strict";r(366)("unscopables")},768:(t,e,r)=>{"use strict";var s=r(6264),n=r(4284).f,o=s("metadata"),i=Function.prototype;void 0===i[o]&&n(i,o,{value:null})},6038:(t,e,r)=>{"use strict";r(929)},8549:(t,e,r)=>{"use strict";r(366)("asyncDispose")},1697:(t,e,r)=>{"use strict";r(366)("customMatcher")},7152:(t,e,r)=>{"use strict";r(366)("dispose")},3939:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0},{isRegisteredSymbol:r(2595)})},3422:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:r(2595)})},1785:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:r(9197)})},36:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:r(9197)})},8703:(t,e,r)=>{"use strict";r(366)("matcher")},6878:(t,e,r)=>{"use strict";r(366)("metadataKey")},1372:(t,e,r)=>{"use strict";r(366)("metadata")},4664:(t,e,r)=>{"use strict";r(366)("observable")},9671:(t,e,r)=>{"use strict";r(366)("patternMatch")},359:(t,e,r)=>{"use strict";r(366)("replaceAll")},2560:(t,e,r)=>{"use strict";r(9363);var s=r(9287),n=r(5951),o=r(4840),i=r(3742);for(var a in s)o(n[a],a),i[a]=i.Array},2222:(t,e,r)=>{"use strict";var s=r(6823);t.exports=s},8251:(t,e,r)=>{"use strict";var s=r(1926);t.exports=s},4139:(t,e,r)=>{"use strict";var s=r(3842);r(2560),t.exports=s},7045:(t,e,r)=>{"use strict";var s=r(1730);r(2560),t.exports=s},70:(t,e,r)=>{"use strict";var s=r(1661);t.exports=s}},e={};function r(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};r.r(t),r.d(t,{LOG_OUT:()=>Or,as_encode_bandwidth_alloc:()=>hr,as_encode_fec_info:()=>lr,as_encode_fec_retran_switch:()=>_r,as_network_info_indication:()=>dr,as_out_filter_data:()=>Sr,mesh_as_network_info_indication:()=>yr,mesh_audio_data_from_qos:()=>ir,mesh_audio_network_info_indication:()=>br,mesh_on_monitor_log:()=>Ar,mesh_qos_on_monitor_log:()=>wr,mesh_recv_as_data:()=>nr,mesh_recv_audio_data:()=>ar,mesh_recv_video_data:()=>er,mesh_video_as_data_from_qos:()=>sr,mesh_video_data_from_qos:()=>tr,mesh_video_network_info_indication:()=>vr,network_quality_callback:()=>Ze,recv_share_rtp_data:()=>or,recv_video_rtp_data:()=>rr,video_as_data_from_qos:()=>cr,video_data_from_qos:()=>ur,video_encode_bandwidth_alloc:()=>fr,video_encode_fec_info:()=>mr,video_encode_fec_retran_switch:()=>pr,video_network_info_indication:()=>gr,video_out_filter_data:()=>Mr,wcl_trace_log:()=>Dr});var e=r(4997),s=r(2321),n=r(2231);function o(t){return o="function"==typeof s&&"symbol"==typeof n?function(t){return typeof t}:function(t){return t&&"function"==typeof s&&t.constructor===s&&t!==s.prototype?"symbol":typeof t},o(t)}var i=r(9280);function a(t,r,s){return(r=function(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[i];if(void 0!==e){var r=e.call(t,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}(r))in t?e(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}var c=r(7201),u=r.n(c);function l(t){return t[0]<<24|t[1]<<16|t[2]<<8|t[3]}const h=function(t){return 21==t[4]&&0==t[13]},_=function(t){return 104==t[0]||16!=t[4]&&1!=t[5]?l(t.slice(19,23)):l(t.slice(15,19))},d=function(t){return 103==t[0]};class m{constructor(t){let e=t||{};this.last_report_time=0,this.timeout_count=0,this.interval_report_time=e.interval||3e3,this.tag=e.tag||"monitor",this.max_timeout=0,this.min_timeout=2147483647,this.reportcallback=e.reportcallback,this._timeoutid=0}_report(){this.reportcallback&&this.reportcallback(this.tag,Math.ceil(this.max_timeout),Math.ceil(this.min_timeout),this.timeout_count),this.timeout_count=0,this.max_timeout=0,this.min_timeout=2147483647}timeoutReport(t,e){if(this.timeout_count++,t>this.max_timeout&&(this.max_timeout=t),t<this.min_timeout&&(this.min_timeout=t),this._timeoutid)return;let r=this;this._timeoutid=setTimeout((()=>{r._report(),r._timeoutid=0}),this.interval_report_time)}}function f(t){let e=t||{};this._samples=[],this._interval_id=0,this._lasted_update_time=0,this._lasted_group_time=0,this._enable=!1,this._interval_time=e.interval||3e4,this._customer_callback=e.report_call,this._tag=e.tag||"netreport",this._group_interval=e.group_interval||1e3,this._enable_advanced=e.advanced||!1,this._current_count=0,this._qos_report=new m({tag:"jitter",interval:3e4,reportcallback:this._qos_report_timeout.bind(this)}),this._qos_report_samples=[],this._cureen_qos_report=0}f.prototype._qos_report_timeout=function(t,e,r,s){if(this._customer_callback){let n="".concat(t,",").concat(e,",").concat(r,",").concat(s);this._customer_callback(this._tag+"TimeOut",n)}},f.prototype._report=function(){let t=(new Date).getTime(),e="".concat(t,"-").concat(this._samples.length,"-").concat(this._samples),r="".concat(t,"-").concat(this._qos_report_samples.length,"-").concat(this._qos_report_samples);e=u()(e).call(e,",","|"),r=u()(r).call(r,",","|"),this._customer_callback?(this._customer_callback(this._tag,e),this._enable_advanced&&this._customer_callback(this._tag+"QOS",r)):console.error("tag:".concat(this._tag,",").concat(e))},f.prototype._group=function(){let t=performance.now();if(t>=this._lasted_group_time+1700){let e=Math.round((t-this._lasted_group_time)/1e3)-1;for(let t=0;t<e;t++)this._samples.push(-1)}this._lasted_group_time=t,this._samples.push(this._current_count),this._qos_report_samples.push(this._cureen_qos_report),this._cureen_qos_report=0,this._current_count=0,t>=this._lasted_update_time+this._interval_time&&(this._lasted_update_time=t,this._report(),this._samples=[],this._qos_report_samples=[])},f.prototype.start=function(){this._enable||(this._lasted_update_time=performance.now(),this._lasted_group_time=this._lasted_update_time,this._samples=[],this._current_count=0,this._qos_report_samples=[],this._cureen_qos_report=0,this._interval_id=setInterval(this._group.bind(this),this._group_interval),this._enable=!0)},f.prototype.stop=function(){this._enable&&(clearInterval(this._interval_id),this._interval_id=0,this._enable=!1)},f.prototype.sample=function(t){if(this._enable&&(this._current_count++,this._enable_advanced)){if(h(t))return void this._cureen_qos_report++;if(d(t)){let e=_(t),r=performance.now();if(this._lasted_qos_ts){let t=r-this._lasted_sys_ts-(e-this._lasted_qos_ts);t>30&&this._qos_report.timeoutReport(t,r)}this._lasted_qos_ts=e,this._lasted_sys_ts=r,this._lasted_data=t}}};const p={VIDEO_ENCODE:"0",VIDEO_DECODE:"1",AUDIO_ENCODE:"2",AUDIO_DECODE:"3",SHARING_ENCODE:"4",SHARING_DECODE:"5",WORKER_SERVICE:"6",NET:"net",MESH:"mesh"},g=((()=>{const t={};for(const e in p)t[p[e]]="WCL_"+e})(),35),y=127,v=128,b=133,w=184,M=185,S=186,A=187,E=196,T=49;class C{constructor(t,e,r,s,n,o){this.id=t,this.tag=n||"",this.type=e,this.datachannel=r,this._recv_statistic=null,this.onmessageFn=()=>{},this.disconnectedFn=null,this.connectedFn=null,this._status=C.UNINIT,this.target_thread=s,this.transfered=!1,this._listener=null,this.transportlists=[],this._send_statistic=null,this.report_monitor_func=()=>{},this.bsuppend=!1,this.mgr=o,this.bufferIncreaseCount=0,this.lastBufferedAmount=0,this.highWaterMarkCount=0}isReady(){return this._status===C.CONNECTED}send(t){this.datachannel.send(t),this._send_statistic.sample(!1)}open(){if(this.target_thread)try{var t;return this.target_thread.postMessage({command:134,id:this.id,type:this.type,channel:this.datachannel,transportlists:this.transportlists,tag:this.tag},[this.datachannel]),this.transfered=!0,this.datachannel=null,void(null===(t=this.mgr)||void 0===t||t.addRTCChannel(this))}catch(t){this.target_thread=null}this._addEventListener()}close(){var t;null===(t=this.mgr)||void 0===t||t.removeRTCChannel(this);let e=this.disconnectedFn;this.transfered&&this.target_thread&&this.target_thread.postMessage({command:135,id:this.id,type:this.type}),this._status!=C.DISCONNECT&&this._clear(),this._status=C.DISCONNECT,null==e||e()}onmessage(t){this.onmessageFn=t}onopen(t){this.connectedFn=t}onclose(t){this.disconnectedFn=t}onerror(t){this.errorFn=t}_addEventListener(){this.datachannel.onmessage=this._onmessage.bind(this),this.datachannel.onopen=this._onopen.bind(this),this.datachannel.onclose=this._onclose.bind(this),this.datachannel.onclosing=this._onclose.bind(this),this.datachannel.onerror=this._onerror.bind(this),"open"==this.datachannel.readyState&&this._status==C.UNINIT&&this._onopen()}_onmessage(t){this._recv_statistic.sample(!1),this.onmessageFn(t)}_onopen(t){let e=this._status;if(this._status=C.CONNECTED,!this.transfered){const t=this.report_monitor_func;if(!this._send_statistic){const e=this.tag?this.tag+"_SEND":3==this.type?"VDCS":"ADCS";this._send_statistic=new f({tag:e,report_call:t})}if(!this._recv_statistic){const e=this.tag?this.tag+"_RECV":3==this.type?"VDCR":"ADCR";this._recv_statistic=new f({tag:e,report_call:t})}this._send_statistic.start(),this._recv_statistic.start()}var r;e!=C.CONNECTED&&(null===(r=this.connectedFn)||void 0===r||r.call(this))}_onerror(t){var e;null===(e=this.errorFn)||void 0===e||e.call(this,t),this._onclose(t)}_onclose(t){let e=this._status;this._status=C.DISCONNECT;let r=this.disconnectedFn;this._clear(),e!=C.DISCONNECT&&(null==r||r())}_clear(){var t,e;!this.transfered&&this.datachannel&&(this.datachannel.onmessage=null,this.datachannel.onopen=null,this.datachannel.onclose=null,this.datachannel.onclosing=null,this.datachannel.onerror=null),this.onmessageFn=null,this.connectedFn=null,this.disconnectedFn=null,this.errorFn=null;let r=this.datachannel;this.datachannel=null,null===(t=this._send_statistic)||void 0===t||t.stop(),null===(e=this._recv_statistic)||void 0===e||e.stop(),null==r||r.close()}mesagelistener(t){let e=t.data;if(e&&e.id==this.id)switch(e.cmd){case 126:this._onclose();break;case 124:this._onopen();break;case 125:this._onerror(e.ev);break;case 21:this.report_monitor_func(e.tag,e.data)}}}function k(){this.a=[],this.b=0,this.residue=null}a(C,"UNINIT",0),a(C,"CONNECTED",1),a(C,"DISCONNECT",2),k.prototype.getLength=function(){return this.a.length-this.b},k.prototype.isEmpty=function(){return 0==this.a.length},k.prototype.enqueue=function(t){this.a.push(t)},k.prototype.dequeue=function(){if(0!=this.a.length){var t=this.a[this.b];return 2*++this.b>=this.a.length&&(this.a=this.a.slice(this.b),this.b=0),t}return null},k.prototype.peek=function(){return 0<this.a.length?this.a[this.b]:void 0},k.prototype.clear=function(){this.a=[],this.b=0};const R=k,P="MEDIASDK_CACHE_INFO",I=new class{constructor(){this._highFrequencyLogs={},this.fixVersion="",this.cacheLogStack=[],this.isFlushing=!1}setInstance(t,e){this._instance=t,this.fixVersion=e}getMessageFromErrorOrEvent(t,e){let r=t;return e instanceof ErrorEvent?(e.filename&&(r+=" File: ".concat(e.filename)),(e.lineno||e.colno)&&(r+=" Line: ".concat(e.lineno,":").concat(e.colno)),e.message&&(r+=" Message: ".concat(e.message)),e.error&&(r+="\nStack: ".concat(e.error.stack))):e instanceof Error?(e.fileName&&(r+=" File: ".concat(e.fileName)),(e.lineNumber||e.columnNumber)&&(r+=" Line: ".concat(e.lineNumber,":").concat(e.columnNumber)),e.message&&(r+=" Message: ".concat(e.message)),e.stack&&(r+=" Stack: ".concat(e.stack)),e.name&&(r+=" Name: ".concat(e.name)),e.constraint&&(r+=" Constraint: ".concat(e.constraint))):e instanceof CloseEvent?(e.code&&(r+=" Code: ".concat(e.code)),e.reason&&(r+=" Reason: ".concat(e.reason)),r+=" wasClean: ".concat(e.wasClean)):e instanceof DOMException?(e.message&&(r+=" Message: ".concat(e.message)),e.name&&(r+=" Name: ".concat(e.name))):r+=e?e.toString():"",r}_addCacheLog(t,e){this.cacheLogStack.length<100&&this.cacheLogStack.push({type:t,message:e})}flushCacheLog(){if(this._instance&&this.cacheLogStack.length>0&&!this.isFlushing){this.isFlushing=!0;let t="";this.cacheLogStack.forEach((e=>{let{type:r,message:{message:s="",tags:n=[]}}=e;const o=s?"".concat(n.join("|"),":").concat(s).concat("|----|"):"";switch(r){case"log":this._log(s,[...n,P]);break;case"warn":case"error":case"severityerror":case"directReport":t+=o}})),t&&this._directReport(t,[P]),this.cacheLogStack=[],this.isFlushing=!1}}log(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._instance?(this.flushCacheLog(),this._log(t,e)):this._addCacheLog("log",{message:t,tags:e})}warn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t=this.getMessageFromErrorOrEvent(t,e),this._instance?(this.flushCacheLog(),this._warn(t,r)):this._addCacheLog("warn",{message:t,tags:r})}error(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var s;t=this.getMessageFromErrorOrEvent(t,e),this._highFrequencyLogs[t]?this._highFrequencyLogs[t]+=1:this._highFrequencyLogs[t]=1,!((s=this._highFrequencyLogs[t])&s-1)&&(this._instance?(this.flushCacheLog(),this._error(t,r)):this._addCacheLog("error",{message:t,tags:r}))}severityerror(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._instance?(this.flushCacheLog(),this._severityerror(JSON.stringify(t),e)):this._addCacheLog("severityerror",{message:JSON.stringify(t),tags:e})}directReport(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["MEDIASDK_INFO"];var r;this._instance?(this.flushCacheLog(),null===(r=this._directReport)||void 0===r||r.call(this,t,e)):this._addCacheLog("directReport",{message:t,tags:e})}_log(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._instance&&this._instance.log(t,e)}_warn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._instance&&this._instance.warn(t,e)}_error(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._instance&&this._instance.error(t,[this.fixVersion,...e])}_severityerror(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._instance&&this._instance.error(t,e)}_directReport(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var r,s;this._instance&&(null===(r=(s=this._instance).directReport)||void 0===r||r.call(s,{msg:t},e))}clearHighFrequencyLogs(){this._highFrequencyLogs={}}};class x{static getStorageForCapacity(){return new SharedArrayBuffer(8+((arguments.length>0&&void 0!==arguments[0]?arguments[0]:80)+1)*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500))}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.byteLength,i=arguments.length>6?arguments[6]:void 0;this.offset=n,this._BYTES_PER_ELEMENT=e,this.capacity=(o-8)/e,this.usableCapacity=this.capacity-1,this.buf=t,this.write_ptr=new Uint32Array(this.buf,n,1),this.read_ptr=new Uint32Array(this.buf,n+4,1),this.storageUint8sByteOffset=n+8,this.storageUint8s=new Uint8Array(this.buf,this.storageUint8sByteOffset,o-8),this.byteLength=o,this.label=r,this.usingOneElementBuffer=s,i&&(this.wasmMemory=i),s&&(this.oneElementBuffer=new ArrayBuffer(e)),this.repushhander=0,this.repushlogcount=0,this.monitorpace=0}checkBuffer(){this.wasmMemory&&this.wasmMemory.buffer!=this.buf&&(console.log("buffer change"),this.buf=this.wasmMemory.buffer,this.storageUint8s=new Uint8Array(this.buf,this.storageUint8sByteOffset,this.byteLength-8))}enqueue(t){return this.available_write()>0&&this.push(t),{rd:Atomics.load(this.read_ptr,0),wr:Atomics.load(this.write_ptr,0)}}enqueueSafe(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;for(this.dataBuffer||(this.dataBuffer=new R);this.dataBuffer.getLength()>0&&this.available_write()>0;){let t=this.dataBuffer.dequeue();t&&this.push(t)}let s=this.dataBuffer.getLength();if(t){if(this.available_write()>0&&0==s)return this.push(t),!0;if(!e)return!1;this.dataBuffer.enqueue(t),++s}if(s>0&&!this.repushhander&&(this.repushhander=setTimeout((()=>{this.repushlogcount%10==0&&console.warn("<<< retry consume cache data"),this.repushlogcount++,this.repushhander=0,this.enqueueSafe(null)}),30)),s>=1e3&&(I.warn("Cached data in SAB reached critical value, will be cleared"),this.dataBuffer.clear(),r&&r("vqslclear")),s>0&&r){let t=performance.now();(!this.monitorpace||t-this.monitorpace>2e4)&&(this.monitorpace=t,r&&r("vqsl"+s))}return!0}push(t){return t instanceof Array?this._pushArray(t):this._push(t)}_pushArray(t){var e=Atomics.load(this.write_ptr,0);this.checkBuffer();let r=0;t.forEach((t=>{this.storageUint8s.set(t,e*this._BYTES_PER_ELEMENT+8+4+r),r+=t.byteLength})),new Uint32Array(this.buf,this.offset+e*this._BYTES_PER_ELEMENT+8,1)[0]=r;let s=(e+1)%this.capacity;return Atomics.store(this.write_ptr,0,s),!0}_push(t){var e=Atomics.load(this.write_ptr,0);this.checkBuffer(),this.storageUint8s.set(t,e*this._BYTES_PER_ELEMENT+8+4,t.byteLength),new Uint32Array(this.buf,this.offset+e*this._BYTES_PER_ELEMENT+8,1)[0]=t.byteLength;let r=(e+1)%this.capacity;return Atomics.store(this.write_ptr,0,r),!0}addReadPtr(){var t=Atomics.load(this.read_ptr,0);Atomics.store(this.read_ptr,0,(t+1)%this.capacity)}dequeue(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e=Atomics.load(this.read_ptr,0);this.checkBuffer();let r,s,n,o=new Uint32Array(this.buf,this.offset+e*this._BYTES_PER_ELEMENT+8,1);if(t){r=this.oneElementBuffer?new Uint8Array(this.oneElementBuffer,0,o[0]):new Uint8Array(o[0]);let t=new Uint8Array(this.storageUint8s.buffer,e*this._BYTES_PER_ELEMENT+8+4+this.storageUint8sByteOffset,r.byteLength);r.set(t,0)}else r=this.storageUint8s.subarray(e*this._BYTES_PER_ELEMENT+8+4,e*this._BYTES_PER_ELEMENT+8+4+o[0]),s=e*this._BYTES_PER_ELEMENT+8+4+this.storageUint8sByteOffset,n=e*this._BYTES_PER_ELEMENT+8+4+o[0]+this.storageUint8sByteOffset;return t&&Atomics.store(this.read_ptr,0,(e+1)%this.capacity),t?r:{bCopyData:t,uint8s:r,begin:s,end:n}}available_read(){var t=Atomics.load(this.read_ptr,0),e=Atomics.load(this.write_ptr,0);return this._available_read(t,e)}available_write(){var t=Atomics.load(this.read_ptr,0),e=Atomics.load(this.write_ptr,0);return this._available_write(t,e)}is_available_write(){var t=Atomics.load(this.read_ptr,0),e=Atomics.load(this.write_ptr,0);return this._is_available_write(t,e)}_available_read(t,e){return(e+this.capacity-t)%this.capacity}_available_write(t,e){return this.usableCapacity-this._available_read(t,e)}_is_available_write(t,e){return this._available_write(t,e)>0}_storage_capacity(){return this.capacity}}class O{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:80;if(!(t instanceof x))throw new Error("RingBuffer required");this.rb=t,this.dataCallback=e,this.interval=null,this.requestID=null,this.timeout_call=r,this.tick_lasted_time=0,this.timeoutMS=s,this.maxCount=n}setDataCallback(t){this.dataCallback=t}consume(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.interval||(this.bCopyData=e,this.interval=setInterval((()=>{let t=performance.now();if(this.timeout_call){if(0!=this.tick_lasted_time){let e=t-this.tick_lasted_time;e>=this.timeoutMS&&this.timeout_call(e,t)}this.tick_lasted_time=t}this._dequeue()}),t),console.log("consume interval ".concat(this.interval)))}consumeAll(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.bCopyData=t,this._dequeue()}_dequeue(){let t=Math.min(this.rb.available_read(),this.maxCount);for(this.consoume_count=0;this.consoume_count<t;){this.consoume_count++;let t=this.rb.dequeue(this.bCopyData);this.dataCallback(t),this.bCopyData||this.rb.addReadPtr()}}_consumeForAnimationFrame(){this._dequeue(),this.requestID=requestAnimationFrame(this._consumeForAnimationFrame.bind(this))}consumeUsingRequestAnimationFrame(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.requestID||(this.bCopyData=t,this._consumeForAnimationFrame())}cancelConsume(){console.log("cancelConsume interval ".concat(this.interval," requestID ").concat(this.requestID)),this.tick_lasted_time=0,clearInterval(this.interval),this.requestID&&cancelAnimationFrame(this.requestID),this.interval=null,this.requestID=null}}class D{constructor(t){let e=t||{};this.type=e.type||D.THREAD_MAIN,this.refs={},this.transportlists=[],this.mainThread=e.remote,this.subthreadlistner=null,this.transportListeners=[],this.onRemoteTransportFn=()=>{}}_onrecvmainthreadlistener(t){let{cmd:e,transportId:r,data:s}=t.data,n=this.transportlists.find((t=>t.id===r));if(n||e==b)switch(e){case b:this.addRemoteTransport(t.data,null);break;case 136:n.setMsgPort(s||new q);break;case 135:n.setSabBuffer(t.data.sender,t.data.reciver);break;case 132:n.remote=null,this.removeTransport(n)}}_onrecvsubthreadlistener(t,e){let{cmd:r,transportId:s}=e.data,n=this.transportlists.find((t=>t.id===s));switch(r){case b:this.addRemoteTransport(e.data,t);break;case 135:this.setSabBufferInfo(n,e.data.sender,e.data.reciver);break;case 132:n.remote==t&&(n.remote=null),this.removeTransport(n)}}createTransport(t){this.transportlists.push(t),setTimeout((()=>{this.transportListeners.forEach((e=>{e.TransportListChange(t,!0)}))}),0)}transportIsExit(t){return-1!=this.transportlists.indexOf(t)}closeTransport(t){let e=this.transportlists.indexOf(t);return-1!=e&&(this.transportlists.splice(e,1),setTimeout((()=>{this.transportListeners.forEach((e=>{e.TransportListChange(t,!1)}))}),0),!0)}createRemoteTransportRPC(t,e){let r={cmd:b,transportType:t.type,transportId:t.id};t.portInfo?(r.port=t.portInfo,e.postMessage(r,[t.portInfo])):e.postMessage(r)}closeRemoteTransportRPC(t,e){e.postMessage({cmd:132,transportType:t.type,transportId:t.id})}setRemoteTransportSABBUfferRPC(t,e){var r,s,n,o;(null!==(r=t.sabInfo)&&void 0!==r&&r.sender||null!==(s=t.sabInfo)&&void 0!==s&&s.reciver)&&e.postMessage({cmd:135,transportId:t.id,sender:null===(n=t.sabInfo)||void 0===n?void 0:n.sender,reciver:null===(o=t.sabInfo)||void 0===o?void 0:o.reciver})}addRemoteTransport(t,e){let{transportId:r,port:s,transportType:n}=t,o=this.createMsgSocketTransport(n,r);var i;o.id=r,o.remote=e,o.portInfo=s,s?o.setMsgPort(o.portInfo):this.bindMessageChannel(o),s&&(null===(i=this.onRemoteTransportFn)||void 0===i||i.call(this,o))}removeTransport(t){-1!=this.transportlists.indexOf(t)&&(this.closeTransport(t),t.close(),t.remote&&this.closeRemoteTransportRPC(t,t.remote),this.closeTransportForTargetThread(t))}createMsgSocketTransport(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=null;return r=new H({mgr:this,sock:new U,type:t,local:!0,id:e}),r}bindMessageChannel(t){if(this.type!=D.THREAD_MAIN)return void console.error("error this call only in main thread");let e=new MessageChannel;t.portInfo=e.port1,t.remote.postMessage({cmd:136,transportId:t.id,data:e.port2},[e.port2])}setSabBufferInfo(t,e,r){this.type==D.THREAD_MAIN&&(t.sabInfo||(t.sabInfo={}),r&&(r.useCopy=!0),e&&(e.useCopy=!0),t.sabInfo={sender:e,reciver:r},0!=t.target_thread&&(1!=t.target_thread?this.setRemoteTransportSABBUfferRPC(t,t.target_thread):t.setSabBuffer(e,r)))}removeTransportByRemote(t){let e=[];for(let r=0;r<this.transportlists.length;r++){let s=this.transportlists[r];s.remote===t&&e.push(s)}for(let t=0;t<e.length;t++)this.removeTransport(e[t])}reinit(){let t=[...this.transportlists];for(let e=0;e<t.length;e++)this.removeTransport(t[e])}getTransportByType(t){for(let e in this.transportlists){let r=this.transportlists[e],s=1==r.target_thread;if(r.type==t&&s)return r}return null}addTransportListChangeListener(t){-1==this.transportListeners.indexOf(t)&&this.transportListeners.push(t)}remoteTransportListChangeListener(t){let e=this.transportListeners.indexOf(t);-1!=e&&this.transportListeners.splice(e,1)}checkTransport(t){this.transportlists.forEach((e=>{if(!t.transportlists.includes(e.type))return;let r=t.target_thread||1;this.addTransportForTargetThread(e,r)}))}checkTransportForThread(){setTimeout((()=>{this.transportlists.forEach((t=>{this.transportListeners.forEach((e=>{e.TransportListChange(t,!0)}))}))}),0)}addTransportForTargetThread(t,e){const r=e;var s,n,o,i;t.target_thread!=r&&0!=r&&(this.type==D.THREAD_MAIN&&0!=t.target_thread&&t.target_thread!=r&&(this.closeTransportForTargetThread(t),this.bindMessageChannel(t)),t.target_thread=r,1!=r?(this.createRemoteTransportRPC(t,r),this.setRemoteTransportSABBUfferRPC(t,r)):(t.portInfo&&t.setMsgPort(t.portInfo),(null!==(s=t.sabInfo)&&void 0!==s&&s.sender||null!==(n=t.sabInfo)&&void 0!==n&&n.reciver)&&t.setSabBuffer(null===(o=t.sabInfo)||void 0===o?void 0:o.sender,null===(i=t.sabInfo)||void 0===i?void 0:i.reciver)))}closeTransportForTargetThread(t){0!=t.target_thread&&1!=t.target_thread&&this.type==D.THREAD_MAIN&&this.closeRemoteTransportRPC(t,t.target_thread),t.target_thread=0}}a(D,"THREAD_MAIN",1),a(D,"THREAD_SUB",2);const F=t=>{};class L{constructor(){this.onmessage=F,this.status=L.CLOSED,this.onopen=F,this.onclose=F,this.onwer=null}send(t){}delete(){this.onmessage=F,this.onopen=F,this.onclose=F,this.close()}sendVideo(t,e){}sendWasm(t){}sendCommand(t){}open(){this.status=L.OPEN,this.onopen()}close(){this.status=L.CLOSED,this.onclose()}isReady(){return!1}}a(L,"OPEN",1),a(L,"CLOSED",2);class U extends L{constructor(){super({}),this.sab={},this.port=null,this.onmessage=F,this.sender=F,this.videoSender=F,this.reciver=F,this.wasmSender=F,this.oncommand=t=>{}}sendCommand(t){var e;null===(e=this.port)||void 0===e||e.postMessage({cmd:130,data:t})}send(t){this.sender(t)}sendVideo(t,e){this.videoSender(t,e)}sendWasm(t){this.wasmSender(t)}delete(){try{var t,e;this.onmessage=F,this.sender=F,this.videoSender=F,this.reciver=F,this.wasmSender=F;let{consumer:r}=(null===(t=this.sab)||void 0===t?void 0:t.reciver)||{};null==r||r.setDataCallback(F),null==r||r.cancelConsume(),this.sab={},this.port&&(this.port.onmessage=F),null===(e=this.port)||void 0===e||e.close()}catch(t){}}open(){this.status!=L.OPEN||this.onopen()}close(){this.status=L.CLOSED,this.delete(),this.onclose()}_onmessage(t){let{cmd:e,data:r}=t.data;switch(e){case v:this.reciver();break;case y:this.onmessage(r,0);break;case 129:this.status=r,this.status==L.OPEN?this.onopen():this.onclose();break;case 130:this.oncommand(r)}}createSendAndReceive(){if(!this.port)return;let{sender:t,reciver:e}=this.sab,{sabqueue:r,interval:s}=t||{};r?s?(this.sender=t=>{r.enqueue(t)},this.wasmSender=t=>{r.enqueue(t)},this.videoSender=(t,e)=>{if(!r.enqueueSafe([t,e],!1)){let s=new Uint8Array(e.length+t.length);s.set(t,0),s.set(e,t.length),r.enqueueSafe(s)}}):(this.sender=t=>{r.enqueue(t),this.port.postMessage({cmd:v})},this.wasmSender=t=>{r.enqueue(t),this.port.postMessage({cmd:v})},this.videoSender=(t,e)=>{if(!r.enqueueSafe([t,e],!1)){let s=new Uint8Array(e.length+t.length);s.set(t,0),s.set(e,t.length),r.enqueueSafe(s)}this.port.postMessage({cmd:v})}):(this.sender=t=>{this.port.postMessage({cmd:y,data:t},[t.buffer])},this.wasmSender=t=>{let e=new Uint8Array(t.length);e.set(t,0),this.port.postMessage({cmd:y,data:e},[e.buffer])},this.videoSender=(t,e)=>{let r=new Uint8Array(e.length+t.length);r.set(t,0),r.set(e,t.length),this.port.postMessage({cmd:y,data:r},[r.buffer])});let{sabqueue:n,consumer:o,useCopy:i,interval:a,offset:c}=e||{};if(o&&(o.cancelConsume(),o=null),n){const t=i?t=>{this.onmessage(t,0)}:c?t=>{this.onmessage(t.uint8s,t.begin)}:t=>{this.onmessage(t.uint8s,0)};let r=null,s=H.dataTransportMgr.monitorlogfn;if(a&&s){var u;let t=new m({tag:"WCL_M,VDRB"+(null===(u=this.onwer)||void 0===u?void 0:u.type),interval:1e4,reportcallback:B});r=t.timeoutReport.bind(t)}o=new O(n,t,r),e.consumer=o,a?o.consume(a,i):this.reciver=()=>{o.consumeAll(i)}}}setMsgPort(t){t!=this.port&&(this.port&&(this.port.onmessage=F,this.port.close(),this.port=null),this.port=t,this.port&&(this._listeners||(this._listeners=this._onmessage.bind(this)),this.port.onmessage=this._listeners,this.createSendAndReceive()))}setSabBuffer(t,e){if(null!=t&&t.sab){let{sab:e,useCopy:r,interval:s,offset:n,length:o,useOneElement:i}=t,a=new x(n>0?e.buffer:e,void 0,void 0,!!i,n,o,n>0?e:null);this.sab.sender={sabqueue:a,interval:s,useCopy:r,offset:n}}if(null!=e&&e.sab){var r;let{sab:t,useCopy:s,interval:n,offset:o,length:i,useOneElement:a}=e,c=new x(o>0?t.buffer:t,void 0,void 0,!!a,o,i,o>0?t:null),{consumer:u}=(null===(r=this.sab)||void 0===r?void 0:r.reciver)||{};u&&(u.cancelConsume(),this.sab.reciver.consumer=null,this.sab.reciver.sabqueue=null),this.sab.reciver={sabqueue:c,interval:n,useCopy:s,offset:o}}this.createSendAndReceive()}setStatus(t){this.port?this.status!=t&&(this.status=t,this.port.postMessage({cmd:129,data:t})):console.error("MsgQueueSocket not initialized")}}class N{constructor(){}TransportListChange(t,e){}}class H{constructor(t){this.onmessage=F,this.onopen=F,this.onclose=F,this.oncommand=F,this.type=t.type,this.id=t.id||Math.floor(performance.now())<<10|t.type,this.sock=t.sock||new L,this.mgr=t.mgr,this.sock.onmessage=this._onmessage.bind(this),this.sock.onclose=this._onclose.bind(this),this.sock.onopen=this._onopen.bind(this),this.sock.oncommand=this._oncommand.bind(this),this.sock.onwer=this,this.remote=t.remote,this.sabInfo=null,this.portInfo=null,this.target_thread=0,this.local=!!t.local,this.args=t.args,this._create()}_create(){let t=H.dataTransportMgr;t.createTransport(this),!this.local&&t&&t.mainThread&&t.type==D.THREAD_SUB&&t.createRemoteTransportRPC(this,t.mainThread)}_close(){let t=H.dataTransportMgr;const e=t.transportIsExit(this);!this.local&&e&&t.type==D.THREAD_SUB&&t.closeRemoteTransportRPC(this,t.mainThread),e&&t.closeTransport(this)}_oncommand(t){this.oncommand(t)}_onmessage(t,e){this.onmessage(t,e)}_onclose(){this.onclose()}_onopen(){this.onopen()}isReady(){return!0}send(t){this.sock.send(t)}sendCommand(t){this.sock.sendCommand(t)}sendVideo(t,e){this.sock.sendVideo(t,e)}sendWasmData(t){this.sock.sendWasm(t)}setSocket(t){let e=this.sock;this.sock=t,this.sock&&(this.sock.onwer=this,this.sock.onmessage=this._onmessage.bind(this),this.sock.onclose=this._onclose.bind(this),this.sock.onopen=this._onopen.bind(this)),e&&e.delete()}open(){this.sock.open()}close(){this._close(),this.sock.close()}setMsgPort(t){if(!(this.sock instanceof U))throw new Error("tansport sock is not a MsgQueueSocket");this.sock.setMsgPort(t)}setSabBuffer(t,e){if(!(this.sock instanceof U))throw new Error("tansport sock is not a MsgQueueSocket");this.sock.setSabBuffer(t,e)}setStatus(t){this.sock instanceof U&&this.sock.setStatus(t)}}a(H,"UDP",0),a(H,"TCP",1),a(H,"RLB_UDP",2),a(H,"dataTransportMgr",null);class q{constructor(t){this.sock=null,this.onmessage=F}isReady(){return!1}send(){}sendVideo(){}sendCommand(){}setStatus(t){}}function B(t,e,r,s){var n;null===(n=D.monitorlogfn)||void 0===n||n.call(D,t,"".concat(e,",").concat(r,",").concat(s))}class Q extends N{constructor(){super()}TransportListChange(t,e){}TransportStatus(t,e,r){}DataChannelStatus(t,e){}}class j extends N{constructor(t){super(),this.transportMap={},this.type=t.type,this.mgr=t,this.channellists=[],this.channelListeners=[]}addDataChannel(t){if(t instanceof C){if(-1==this.channellists.findIndex((e=>e==t))){this.channellists.push(t);try{this.mgr.checkTransport(t)}catch(t){console.error("addDataChannel error",t)}this.channelListeners.forEach((e=>{e.DataChannelStatus(t,!0)}))}}else console.error("channel must be a DataChannelWrapper")}TransportListChange(t,e){let r=this.getChannelByTransportType(t.type);if(e&&null!=r&&r.isReady()){let e=r.target_thread||1;this.mgr.addTransportForTargetThread(t,e)}e||this.mgr.closeTransportForTargetThread(t),r&&this.channelListeners.forEach((s=>{s.TransportStatus(t,r,e)})),this.channelListeners.forEach((r=>{r.TransportListChange(t,e)}))}removeDataChannel(t){if(!(t instanceof C))return void console.error("channel must be a DataChannelWrapper");let e=this.channellists.indexOf(t);-1!==e&&this.channellists.splice(e,1),this.channelListeners.forEach((e=>{e.DataChannelStatus(t,!1)}))}addMediaChannelController(t){t instanceof Q?-1==this.channelListeners.findIndex((e=>e==t))&&this.channelListeners.push(t):console.error("controller must be a MediaChannelController")}rmMediaChannelController(t){let e=this.channelListeners.findIndex((e=>e==t));-1!=e&&this.channelListeners.splice(e,1)}getChannelByTransportType(t){for(let e=0;e<this.channellists.length;e++){let r=this.channellists[e];if(r.isReady()&&r.transportlists.includes(t))return r}return null}reinit(){let t=this.channellists;this.channellists=[],t.forEach((t=>{t.isReady()&&(t.close(),this.channelListeners.forEach((e=>{e.DataChannelStatus(t,!1)})))}))}}a(j,"target",null);class W{constructor(){this._interval=-1,this.monitorworkers={},this.timeoutcallbackfn=(t,e)=>{}}setTimeoutCallback(t){this.timeoutcallbackfn=t}registerWorker(t,e){if(t in this.monitorworkers){let e=this.monitorworkers[t];e.worker.removeEventListener("message",e.listener),delete this.monitorworkers[t]}let r={id:t,worker:e},s=this._recvheartbeat.bind(this,r);r.listener=s,r.lastedtimestamp=Date.now(),r.timeoutcount=0,r.worker.addEventListener("message",r.listener),this.monitorworkers[t]=r}unRegisterWorker(t){if(!(t in this.monitorworkers))return;let e=this.monitorworkers[t];delete this.monitorworkers[t],e.worker.removeEventListener("message",e.listener)}_recvheartbeat(t,e){let r=e.data;137===r.cmd&&(t.lastedtimestamp=r.timestamp,t.timeoutcount=0)}start(t){const e="undefined"!=typeof DedicatedWorkerGlobalScope&&t&&t instanceof DedicatedWorkerGlobalScope;if(-1!=this._interval)return;if(e)return void(this._interval=setInterval((()=>{t.postMessage({cmd:137,timestamp:Date.now()})}),W.INTREVAL_TIME_MS));const r=()=>{this._interval=setTimeout((()=>{r();let t=W.instance,e=Object.keys(t.monitorworkers),s=Date.now();e.forEach((e=>{let r=t.monitorworkers[e];r.timeoutcount>5?s-r.lastedtimestamp>W.HEART_TIMEOUT_MS&&(t.timeoutcallbackfn(r.id,s-r.lastedtimestamp),r.lastedtimestamp=s):(r.timeoutcount++,r.worker.postMessage({command:138}))}))}),W.INTREVAL_TIME_MS)};r()}close(){try{this._interval&&clearTimeout(this._interval),this._interval=-1,Object.keys(this.monitorworkers).forEach((t=>{let e=this.monitorworkers[t];delete this.monitorworkers[t],e.worker.removeEventListener("message",e.listener)}))}catch(t){}}}a(W,"INTREVAL_TIME_MS",3e3),a(W,"HEART_TIMEOUT_MS",15e3),a(W,"MAX_HEART_TIMEOUT_MS",3e4),a(W,"instance",null);new Map([["useinbandfec",1],["maxaveragebitrate",48e3],["maxplaybackrate",24e3],["sprop-maxcapturerate",24e3],["sprop-stereo",null],["stereo",null]]),new Map([["useinbandfec",null],["maxaveragebitrate",96e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3],["sprop-stereo",1],["stereo",1]]),new Map([["useinbandfec",null],["maxaveragebitrate",96e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3],["sprop-stereo",1],["stereo",1]]),new Map([["useinbandfec",null],["maxaveragebitrate",128e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3],["sprop-stereo",1],["stereo",1]]),new Map([["useinbandfec",null],["maxaveragebitrate",128e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3],["sprop-stereo",1],["stereo",1]]),new Map([["useinbandfec",null],["maxaveragebitrate",96e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3]]),new Map([["useinbandfec",1],["maxaveragebitrate",64e3],["maxplaybackrate",24e3],["sprop-maxcapturerate",24e3],["sprop-stereo",null],["stereo",null]]),new Map([["stereo",1]]);class V{constructor(t,e,r){this.onmessage=()=>{},this.onclose=()=>{},this.onopen=()=>{},this.onerror=()=>{},this.url=t,this.socket=null,this.connectIndex=0,this.lastConnectedTime=0,this.messageTimestamplasted=0,this.forceClosed=!1,this.monitorid=0,this.isready=!1,this.mode=r,this.id=Date.now(),this.tag=e,this.monitorlog=()=>{}}_onmessage(t){this.messageTimestamplasted=performance.now(),this.onmessage(t)}_onclose(t){this.isready=!1,this.monitorlog("".concat(this.tag,"SCLOSE")),this._stopMonitor(),this.forceClosed||this.connectIndex>=10?this.onclose(this,t):this._reconnect()}_onopen(t){this.isready=!0,this.monitorlog("".concat(this.tag,"SE")),this.lastConnectedTime=performance.now(),this.messageTimestamplasted=performance.now(),this._startMonitor(),this.onopen(this,t)}_onerror(t){this.isready=!1,this.monitorlog("".concat(this.tag,"SERR")),this._stopMonitor(),this.forceClosed||this.connectIndex>=10?this.onerror(this,t):this._reconnect()}_startMonitor(){this.monitorid||(this.monitorid=setInterval((()=>{performance.now()>this.messageTimestamplasted+65e3&&this._onerror(new Error("connect recv timeout"))}),1e3))}_stopMonitor(){this.monitorid&&(clearInterval(this.monitorid),this.monitorid=0)}_closeWebsocket(){let t=this.socket;this.socket=null,this.isready=!1,t&&(t.onclose=()=>{},t.onopen=()=>{},t.onmessage=()=>{},t.close())}_reconnect(){this._closeWebsocket(),this.monitorlog("".concat(this.tag,"SB"));let t=0;this.lastConnectedTime&&(performance.now()<this.lastConnectedTime+3e3?t=5:this.connectIndex=0);const e=Math.max(Math.min(Math.pow(2,this.connectIndex)-1,31),t);this.connectIndex+=1,setTimeout((()=>{this.forceClosed||(this.socket=new WebSocket(this.url),this.socket.binaryType="arraybuffer",this.socket.onclose=this._onclose.bind(this),this.socket.onopen=this._onopen.bind(this),this.socket.onerror=this._onerror.bind(this),this.socket.onmessage=this._onmessage.bind(this))}),1e3*e)}connect(){this._reconnect()}isReady(){return this.isready}close(){this.forceClosed=!0,this._closeWebsocket(),this._onclose(null)}send(t){try{this.isready&&this.socket.send(t)}catch(t){this.socket&&this.socket.readyState!=WebSocket.OPEN&&this._reconnect()}}sendForSafari(t){let e=new Uint8Array(t);setTimeout((()=>{try{this.isready&&this.socket.send(e)}catch(t){this.socket&&this.socket.readyState!=WebSocket.OPEN&&this._reconnect()}}),0)}}function Y(t){postMessage({status:g,data:t})}function z(t){var e,r,s,n,o,i;for(e="",s=t.length,r=0;r<s;)switch((n=t[r++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(n);break;case 12:case 13:o=t[r++],e+=String.fromCharCode((31&n)<<6|63&o);break;case 14:o=t[r++],i=t[r++],e+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&i)}return e}new Error,new Map,new Map,new class{constructor(){this.ssrcInfoMap=new Map,this.timer=null}updateSSRCInfo(t,e){this.ssrcInfoMap.has(t)||this.ssrcInfoMap.set(t,{firstTime:0,lastTime:0,frames:0,fps:0}),this._calculateFPS(t,e),this._removeZeroFPS()}_calculateFPS(t,e){const r=this.ssrcInfoMap.get(t);if(0===r.frames?r.firstTime=e:r.lastTime=e,r.frames+=1,r.frames>2&&r.frames%5==0&&r.lastTime-r.firstTime>=1e3){const e=Math.floor(1e3/((r.lastTime-r.firstTime)/(r.frames-1)));r.fps!==e&&(this._notifyFPS(t,e),r.fps=e),r.firstTime=r.lastTime,r.frames=1}}_removeZeroFPS(){let t=Date.now();this.ssrcInfoMap.forEach(((e,r)=>{const s=this.ssrcInfoMap.get(r);s&&s.lastTime&&t-s.lastTime>2e3&&(this.ssrcInfoMap.delete(r),this._notifyFPS(r,0))}))}_notifyFPS(t,e){postMessage({status:66.6,data:{ssrc:t,fps:e}})}_checkIfNewFrameComing(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((()=>{this._removeZeroFPS(),this.timer=null}),2500)}},new class{constructor(){this.ssrcInfoMap=new Map,this.timer=null}updateSSRCInfo(t,e){this.ssrcInfoMap.has(t)||this.ssrcInfoMap.set(t,{timeList:[],lastTime:0,fps:0}),this._calculateFPS(t,e),this._removeZeroFPS(),this._checkIfNewFrameComing()}_calculateFPS(t,e){const r=this.ssrcInfoMap.get(t);if(r.timeList.push(e),r.lastTime=e,r.timeList.length>2){const e=r.timeList[0],s=r.timeList[r.timeList.length-1];if(s-e>=1e3){const n=Math.floor(1e3/((s-e)/(r.timeList.length-1)));r.fps!==n&&(this._notifyFPS(t,n),r.fps=n),r.timeList=[]}}r.timeList.length>30&&(r.timeList=r.timeList.slice(r.timeList.length-30))}_removeZeroFPS(){this.ssrcInfoMap.forEach(((t,e)=>{const r=this.ssrcInfoMap.get(e);r&&Date.now()-r.lastTime>2e3&&(this.ssrcInfoMap.delete(e),this._notifyFPS(e,0))}))}_notifyFPS(t,e){postMessage({status:66.6,data:{ssrc:t,fps:e}})}_checkIfNewFrameComing(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((()=>{this._removeZeroFPS(),this.timer=null}),2500)}};const G=t=>btoa(String.fromCharCode(...new Uint8Array(t)));class K{constructor(t){a(this,"process",(async()=>{if(this.processList.length){const t=this.processList.splice(0,30),e=await this.encryptData(this.mergeBuffer(t));this.writeLog(G(e)),this.writeLog(this.EOL)}requestAnimationFrame(this.process)})),this.textEncoder=new TextEncoder,this.textDecoder=new TextDecoder,this.EOL=this.textEncoder.encode("\n"),this.processList=[],this.writeLog=t,this.key=null,this.initEncryptPromise=this.initEncrypt()}addLogData(t,e){if(!t||!e)return;const r=this.textEncoder.encode(t);this.processList.push(r),this.processList.push(e),this.processList.push(this.EOL)}async initEncrypt(){this.key=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),this.iv=crypto.getRandomValues(new Uint8Array(12));const t=new Uint8Array(await crypto.subtle.exportKey("raw",this.key)),e=new Uint8Array([0]);this.writeLog("v"),this.writeLog(this.EOL),this.writeLog(G(e.buffer)),this.writeLog(this.EOL);const r=[t,this.iv];this.writeLog("h"),this.writeLog(this.EOL),this.writeLog(G(this.mergeBuffer(r).buffer)),this.writeLog(this.EOL),this.startProcess()}mergeBuffer(t){const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);let s=0;for(const e of t)r.set(e,s),s+=e.length;return r}async encryptData(t){return await this.initEncryptPromise,await crypto.subtle.encrypt({name:"AES-GCM",iv:this.iv},this.key,t)}startProcess(){requestAnimationFrame(this.process)}}class X{constructor(t){this.port=null,this.cache=[],this.stopCache=!1,t&&(this.logProcesser=new K(this.writeLog.bind(this)))}readyForLog(){}sendLog(t){}writeLog(t){this.readyForLog()?(this.stopCache||(this.cache.forEach((t=>this.sendLog(t))),this.clearCache()),this.sendLog(t)):this.stopCache||this.cache.push(t)}clearCache(){this.stopCache=!0,this.cache=[]}getTime(){const t=new Date;return t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()}getLogData(t,e,r){if(e){var s=new Uint8Array(r?e+1:e),n=(self.GROWABLE_HEAP_I8?self.GROWABLE_HEAP_I8():Module.HEAP8).subarray(t+0,t+e);return s.set(n,0,e),r&&(s[e]=10),s}return t.data}writeWasmLog(t,e){const r=this.getTime(),s=this.getLogData(t,e);this.logProcesser?this.logProcesser.addLogData(r,s):(this.writeLog(r),this.writeLog(s),this.writeLog("\n"))}}class J extends X{constructor(){super(!0),this.port=null,this.ready=!1}init(){let t=0;const e=r=>{"local_log_port"===r.data.command?this.port||(this.port=r.data.data):"local_log_ready"===r.data.command&&(this.ready=!0,self.removeEventListener("message",e),clearTimeout(t),this.stopCache||(this.cache.forEach((t=>this.sendLog(t))),this.clearCache()))};self.addEventListener("message",e),t=setTimeout((()=>{self.removeEventListener("message",e),this.clearCache()}),6e4)}readyForLog(){return!!this.port&&this.ready}sendLog(t){this.port.postMessage(t)}}var $,Z,tt,et;!function(t){t[t.Unknow=0]="Unknow",t[t.MediaCommand=1]="MediaCommand",t[t.P2PControl=2]="P2PControl",t[t.MeshControl=3]="MeshControl"}($||($={})),function(t){t[t.normal=0]="normal",t[t.child=1]="child",t[t.parent=2]="parent",t[t.invalid=31]="invalid"}(Z||(Z={})),function(t){t[t.bridge=0]="bridge",t[t.setRole=1]="setRole",t[t.connectTestParams=2]="connectTestParams",t[t.reportConnectedSet=3]="reportConnectedSet",t[t.notifyChildParentLeave=4]="notifyChildParentLeave",t[t.notifyParentChildLeave=5]="notifyParentChildLeave",t[t.availableParents=6]="availableParents",t[t.updateNodeStatus=7]="updateNodeStatus",t[t.joinSuccess=8]="joinSuccess",t[t.kickChild=9]="kickChild",t[t.leaveParent=10]="leaveParent",t[t.subscriptionMap=11]="subscriptionMap",t[t.channelopt=12]="channelopt",t[t.joinSuccessConfirm=13]="joinSuccessConfirm",t[t.registerMeshNode=14]="registerMeshNode",t[t.meshAllowTalk=15]="meshAllowTalk",t[t.statInfo=16]="statInfo",t[t.adapt=17]="adapt",t[t.refershConnectParams=18]="refershConnectParams",t[t.joinConnectedSetConfirm=19]="joinConnectedSetConfirm",t[t.registerMeshNodeResult=20]="registerMeshNodeResult",t[t.meshSigType=21]="meshSigType",t[t.meshSigKey=22]="meshSigKey",t[t.unknown=1e3]="unknown"}(tt||(tt={})),function(t){t[t.Unknow=0]="Unknow",t[t.Offer=1]="Offer",t[t.Answer=2]="Answer"}(et||(et={}));class rt{constructor(t,e){var r;this.type=t,this.onopen=()=>{},this.onclose=()=>{},this._onmessageAdaptpr=()=>{},this.port=(r=e,new H({sock:new U,type:r,local:!1,userArgs:undefined})),this.port.onclose=this._onclose.bind(this),this.port.onopen=this._onopen.bind(this),this.port.onmessage=this._onmessage.bind(this),this.isready=!1}send(t){let e=new Uint8Array(t);this.port.send(e)}onmessage(t){this._onmessageAdaptpr=t}_onmessage(t,e){this._onmessageAdaptpr({data:t})}isReady(){return this.isready}_onopen(){this.isready=!0,this.onopen()}_onclose(){this.isready=!1,this.onclose()}close(){var t;this.isready=!1,this.port&&(this.port.onclose=()=>{},this.port.onopen=()=>{},this.port.onmessage=()=>{},null===(t=this.port)||void 0===t||t.close())}}const st=Date.now()-performance.now();function nt(){return{meetingType:0,oldRole:1,newRole:1,udid:"",duration:1,dataDistributeVideo:0,latencyVideo:-1,dataDistributeAudio:0,latencyAudio:-1,dataDistributeAs:0,latencyAs:-1,qosScore:-1,deviceName:"WEB-CLIENT",childNode:-1,dataDistribute:0,latency:-1,createTime:performance.now(),modifyTime:performance.now()}}function ot(t,e){e>=t.groupSize||(t.openStatusArray[e]?console.warn("group web transport index ".concat(e,", status reopene")):(t.openStatusArray[e]=!0,t.openedCount+=1,t.openedCount>1||t.params.onopen(t)))}function it(t,e){e>=t.groupSize||(t.openStatusArray[e]?(t.openStatusArray[e]=!1,t.openedCount>0&&(t.openedCount-=1,0==t.openedCount&&t.params.onclose(t))):console.warn("group web transport index ".concat(e,", not open")))}class at{constructor(t){this.params=t,this.label=this.params.label||"",this.id=this.params.id||0,this.successfulConnectedCount=0,this.connectIndex=0,this.heartbeat=new Uint8Array([104,101,97,114,116,98,101,97,116]),this.transport=null,this.transport_ready=!1,this.isDestroyed=!1,this.inReading=!1,this.heartbeatStarted=!1,this.reader=null}async connect(){this.reconnect()}async reconnect(){if(this.isReconnectNow||this.isTimerExist||this.isDestroyed)return;this.isReconnectNow=!0,this.isTimerExist=!0;let t=Math.pow(2,this.connectIndex)-1;this.connectIndex+=1,setTimeout((async()=>{if(this.isDestroyed)return;this.isTimerExist=!1;let{url:t}=this.params,e=new WebTransport(t);this.transport=e,e.closed.then((()=>{this.reader=null,this.transport_ready=!1,this.params.onclose&&this.params.onclose(this.params.group,this.params.index)})).catch((t=>{this.reader=null,this.transport_ready=!1,this.params.onerror&&this.params.onerror(t),this.params.onclose(this.params.group,this.params.index),this.connectIndex<8&&this.reconnect()}));try{if(this.isReconnectNow=!1,await e.ready,this.isDestroyed)return void this.close();this.transport_ready=!0,this.successfulConnectedCount++,e.datagrams.incomingMaxAge=1e3,e.datagrams.outgoingMaxAge=100,e.datagrams.incomingHighWaterMark=800,e.datagrams.outgoingHighWaterMark=800,this.writer=e.datagrams.writable.getWriter(),this.reader=e.datagrams.readable.getReader(),await this.writer.ready,this.params.onopen(this.params.group,this.params.index)}catch(t){return this.params.onerror&&this.params.onerror(t),void this.close()}this.startHeartbeat(),this.read()}),1e3*t)}send(t){if(this.transport_ready){let e=new Uint8Array(t);this.writer.write(e)}}async sendAwaitReady(t){this.transport_ready&&await this.writer.ready,this.transport_ready&&await this.writer.write(t)}async startHeartbeat(){if(!this.heartbeatStarted)for(this.heartbeatStarted=!0;;)try{await this.sleep(3e3),await this.sendAwaitReady(this.heartbeat)}catch(t){}}sleep(t){return new Promise((e=>setTimeout(e,t)))}localTime(){let t=new Date;return"local time : "+t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" @ "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+" "}close(){try{this.transport_ready=!1,this.transport&&this.transport.close()}catch(t){}}forceClose(){this.isDestroyed||(this.isDestroyed=!0,this.close())}async read(){if(!this.inReading){for(this.inReading=!0;this.reader;)try{const{value:t,done:e}=await this.reader.read();if(e)break;this.params.onmessage(t)}catch(t){break}this.inReading=!1}}}class ct{constructor(t){this.params=t,this.label=this.params.label||"",this.id=this.params.id||0,this.groupSize=t.groupSize,this.openedCount=0,this.sendIndex=0,this.transportArray=[],this.openStatusArray=[];for(let t=0;t<this.groupSize;t++)this.transportArray.push(null),this.openStatusArray.push(!1)}isReady(){return this.openedCount>0}async connect(){for(let t=0;t<this.groupSize;t++){let e=this.params.url;t>0&&(e+="&index="+t);let r={url:e,label:this.params.label,id:this.id,onmessage:this.params.onmessage,onopen:ot,onclose:it,group:this,index:t},s=new at(r);await s.connect(),this.transportArray[t]=s}}send(t){if(!(this.openedCount<=0))for(let e=0;e<this.groupSize;e++){this.sendIndex+=1;let e=this.sendIndex%this.groupSize;if(this.transportArray[e]&&this.openStatusArray[e]){this.transportArray[e].send(t);break}}}forceClose(){for(let t=0;t<this.groupSize;t++)this.transportArray[t]&&this.transportArray[t].forceClose()}}var ut,lt,ht,_t,dt="undefined"!=typeof RTCDataChannel;postMessage({status:131,data:dt}),self.wasmSuccessEvent=7,self.wasmFailEvent=-7,self.downloadAndInstantiateWebAssembly=async function(t,e){try{const r=await new Promise(((t,e)=>{const r=s=>{let n=s.data;"DOWNLOAD_WASM_FROM_MAIN_THREAD_OK"===n.command?(Y("DE"),self.removeEventListener("message",r),t(n.data)):"DOWNLOAD_WASM_FROM_MAIN_THREAD_FAILED"===n.command&&(self.removeEventListener("message",r),e(new Error("Failed to download WASM file: ".concat(wasmUrl," from main thread"))))};self.addEventListener("message",r),Y("DS"),postMessage({status:30,url:wasmUrl})}));let s=await WebAssembly.instantiate(r,t);s.instance?(self.wasmModuleToShare=s.module,e(s.instance)):(self.wasmModuleToShare=r,e(s))}catch(t){Y("IF"),function(t,e=null){var r,s;if(e instanceof Error||e instanceof ErrorEvent){const n=e;t+=" Code: "+(null==n?void 0:n.code)+" Message: "+(null==e?void 0:e.message)+" Stack: "+(null!==(s=null===(r=null==n?void 0:n.error)||void 0===r?void 0:r.stack)&&void 0!==s?s:null==n?void 0:n.stack),e=null}postMessage({status:61,errorMessage:t,errorEvent:e})}("E:H Failed to download and instantiate WASM file: ".concat(wasmUrl),t)}};var mt,ft,pt,gt,yt,vt,bt,wt,Mt,St,At,Et,Tt=()=>{},Ct=()=>{},kt=()=>{},Rt=()=>{},Pt=()=>{},It=()=>{},xt=null;new Promise(((t,e)=>{xt=t})),self.onWasmModuleReady=()=>{ut=Module.cwrap("_Qos_Init","number",["number","number","number","boolean","boolean","boolean","boolean"]),lt=Module.cwrap("_Qos_UnInit","number",["number"]),ht=Module.cwrap("_Qos_Start_Send","number",["number","number","boolean"]),_t=Module.cwrap("_Qos_Stop_Send","number",["number","number"]),Tt=Module.cwrap("_Qos_Change_Connect_Type_Or_Video_Share","number",["number","number","number","boolean","boolean"]),mt=Module.cwrap("_Qos_Send_Data_Packet","number",["number","number","number","number","number"]),Ct=Module.cwrap("_Qos_Data_From_Rwg","number",["number","number","number"]),kt=Module.cwrap("_Qos_AS_Data_From_Rwg","number",["number","number","number"]),Rt=Module.cwrap("_Qos_Audio_Data_From_Rwg","number",["number","number","number"]),Pt=Module.cwrap("_Qos_Smooth_Send_Periodically_For_Qos","number",["number","number"]),It=Module.cwrap("_Qos_Request_Nack_T_Periodically_For_Qos","number",["number","number"]),ft=Module.cwrap("_Qos_Update_Required_Bandwidth","number",["number","number","number","number"]),pt=Module.cwrap("_Qos_Update_Video_Hd_Info","number",["number","number"]),gt=Module.cwrap("_Qos_Reset_As_Qos_Buffer","number",["number"]),yt=Module.cwrap("_mesh_init","number",[]),Module.cwrap("_mesh_uninit",null,["number"]),Module.cwrap("_mesh_add_child","number",["number","number","number"]),Module.cwrap("_mesh_rm_child","number",["number","number","number"]),Module.cwrap("_mesh_bad_net","number",["number","number","number"]),vt=Module.cwrap("_mesh_sub_infomap",null,["number","number","number"]),bt=Module.cwrap("_mesh_channle_opt","number",["number","number","number"]),Module.cwrap("_mesh_out_filter_test",null,["number","number","number","number","number","number"]),wt=Module.cwrap("_Qos_Set_OutFilter","number",["number","number"]),Mt=Module.cwrap("_Qos_Enable_OutFilter","number",["number","boolean"]),St=Module.cwrap("_Qos_Set_NodeId","number",["number","number"]),Module.cwrap("_wcl_enable_log","number",["number","string","number"]),Ir(new Uint8Array(1500)),xt(!0),postMessage({status:194})},function(){try{const t="undefined"!=typeof DedicatedWorkerGlobalScope;if(H.dataTransportMgr)return;let e=new D({type:t?D.THREAD_SUB:D.THREAD_MAIN,remote:t?self:null});H.dataTransportMgr=e,e.monitorlogfn=function(t,e){if(!ze.length)return;$e(ze[0],t,data)},j.target||(j.target=new j(e),e.addTransportListChangeListener(j.target)),t&&self.addEventListener("message",e._onrecvmainthreadlistener.bind(e))}catch(t){console.error("<<<< InitDataTransportModule",t)}}(),At=function(t){const e=t.type,r=e>>2,s=3&e;switch(e>=4&&e<=13&&(Jt[r][s]=t,function(t,e){t.onmessage=e,t.oncommand=be.bind(null,t),t.onclose=ve.bind(null,t),t.setStatus(L.OPEN)}(t,Zt[r][s])),e){case 5:jt=t;break;case 4:Qt=t;break;case 13:{var n;Vt=t,xr.createReciver();let e=(null===(n=ne[r][s])||void 0===n?void 0:n.isReady())?0:1;xr.setConnectType(3,e,!1,!1);break}case 12:{var o;Wt=t,xr.createSender();let e=(null===(o=ne[r][s])||void 0===o?void 0:o.isReady())?0:1;xr.setConnectType(3,e,!0);break}case 9:{var i;zt=t,xr.createReciver();const e=null===(i=ne[r][s])||void 0===i?void 0:i.isReady();let n=ie[1]&&e?0:1;xr.setConnectType(2,n,!1,ie[1]);break}case 8:Yt=t,xr.createSender(),xr.setConnectType(2,1,!0,!1);break;case 7:Gt=t;break;case 11:Kt=t,xr.createMainQos();break;case-2147483646:Xt=t}},H.dataTransportMgr&&At&&(H.dataTransportMgr.onRemoteTransportFn=At),Et=self,W.instance||(W.instance=new W),W.instance.start(Et);let Ot=null,Dt=null,Ft=null;var Lt=Z.normal,Ut=null,Nt=!1;self.onmessage=t=>{let e=t.data;switch(e.command){case 136:dt&=e.useTransferRTC,Lr=e.isSafar,dt||(Ot||(Ot=new rt(1,64),Ot.onopen=()=>{Te(Ot)},Ot.onclose=()=>{ke(Ot)},Ot.onmessage(Ie)),Dt||(Dt=new rt(3,128),Dt.onopen=()=>{Te(Dt)},Dt.onclose=()=>{ke(Dt)},Dt.onmessage(Pe))),Fr||null===(r=Fr=function(){let t=!1;try{t=!1}catch(t){}return t?new J:null}())||void 0===r||r.init({workerType:"net"});break;case 134:!function(t,e,r,s,n){let o=new C(t,e,r,null,n);const i=ee[e];o.transportlists=s,o.open(),o.onmessage(i),o.onopen(Te.bind(null,o)),o.onclose(ke.bind(null,o)),o.onerror(Ce.bind(null,o)),o.report_monitor_func=$e.bind(null,o),ze.push(o)}(e.id,e.type,e.channel,e.transportlists,e.tag);break;case 135:!function(t){let e=ze.findIndex((e=>e.id==t));if(-1==e)return;let[r]=ze.splice(e,1);r.close()}(e.id);break;case 138:self.postMessage({cmd:137,timestamp:Date.now()});break;case 144:{let t=(Lt=e.data)==Z.parent;Ut||(Ut=yt(),xr.setOutFilter(Ut)),xr.enableFilter(t);const r=Lt==Z.child;r&&(!dt&&(Ft||(Ft=new rt(4,256),Ft.onopen=()=>{Te(Ft)},Ft.onclose=()=>{ke(Ft)},Ft.onmessage(Le))),xr.createMesh()),r?Er.start():Er.stop();break}case 143:!function(t){const{type:e,info:r}=t;let s=Ir(r);Ut||(Ut=yt(),xr.setOutFilter(Ut)),"subInfo"==e&&vt(Ut,s,r.length),"channelOpt"==e&&bt(Ut,s,r.length)}(e);break;case 145:{const{allow:t}=e;Nt=t;break}case 146:!function(t){Tr=Array(Cr).fill(0);let e=0;const r=()=>{var t;const s=e,n=Date.now()&kr;Tr[s]=n;let o=new Uint8Array(1e3);o[0]=0,o[1]=s,o[4]=n>>24&255,o[5]=n>>16&255,o[6]=n>>8&255,o[7]=255&n,null===(t=te[4])||void 0===t||t.send(o),e++,e<Cr&&setTimeout(r,10)};setTimeout((()=>{r()}),50),setTimeout((()=>{let e=0,r=16777215,s=0,n=0;for(let t=0;t<Cr;t++){const o=Tr[t];o>3e3||(o>e&&(e=o),o<r&&(r=o),s+=o,n++)}let o=n>7?Math.round(s/n):1e4;Y("MESHRTT:".concat(o,"|").concat(e,"|").concat(r,"|").concat(n)),postMessage({status:201,value:o,id:t})}),1e3)}(e.id)}var r};const Ht=new q,qt=new L,Bt=()=>{};var Qt=Ht,jt=Ht,Wt=Ht,Vt=Ht,Yt=Ht,zt=Ht,Gt=Ht,Kt=Ht,Xt=Ht,Jt=[[Ht,Ht,Ht,Ht],[Qt,jt,Ht,Gt],[Yt,zt,Ht,Kt],[Wt,Vt,Ht,Ht]],$t=[["","","",""],["AE","AD","","MAD"],["SE","SD","","MSD"],["VE","VD","",""]],Zt=[[Bt,Bt,Bt,Bt],[function(t,e){const r=t[0],s=ce[0];1===r?xr.audio_rtp_for_send(t):s.send(t)},function(t,e){t[0];ce[1].send(t)},Bt,function(t,e){const r=t[0],s=ue[3],n=ce[3];108===r?n.send(t):s.send(t)}],[function(t,e){const r=t[0],s=de[0];77===r?xr.share_rtp_for_sender(t):s.send(t)},function(t,e){t[0];de[1].send(t)},Bt,function(t,e){t[0];de[3].send(t)}],[function(t,e){const r=t[0],s=he[0],n=le[0];switch(r){case 2:xr.video_rtp_for_send(t);break;case 7:case 17:n.send(t);break;default:s.send(t)}},function(t,e){const r=t[0],s=he[1],n=le[1];switch(r){case 7:case 17:n.send(t);break;default:s.send(t)}},Bt,Bt]],te=[null,null,null,null,null],ee=[null,Ie,null,Pe,Le],re=["common","audio","share","video"],se=[[null,null],[null,null],[null,null],[null,null]],ne=[[null,null],[null,null],[null,null],[null,null],[null,null]],oe=[[null,null],[function(t){Xe({data:t.buffer})},function(t){Je({data:t.buffer})}],[Fe,De],[Fe,De]],ie=[0,0,0,0],ae=[qt,qt,qt,qt],ce=[qt,qt,qt,qt],ue=[qt,qt,qt,qt],le=[qt,qt,qt,qt],he=[qt,qt,qt,qt],_e=[qt,qt,qt,qt],de=[qt,qt,qt,qt],me=[ae,ue,de,he],fe=[ae,ce,_e,le],pe=[[Bt,Bt,Bt,Bt],[Xe,Je,qt,function(t){const e=new Uint8Array(t.data);0===e[0]?ue[3].send(e):Gt.send(e)}],[function(t){const e=new Uint8Array(t.data);switch(e[0]){case 0:de[0].send(e);break;case 133:case 132:xr.share_data_for_sender(e);break;default:Yt.send(e)}},function(t){const e=new Uint8Array(t.data);switch(e[0]){case 0:de[1].send(e);break;case 133:case 132:xr.share_data_for_reciver(e);break;case 77:case 78:case 79:Lt==Z.parent&&Xt.send(new Uint8Array(e)),zt.send(e);break;default:zt.send(e)}},qt,function(t){const e=new Uint8Array(t.data);switch(e[0]){case 0:de[3].send(e);break;case 132:case 133:xr.share_data_for_main_reciver(e);break;default:Kt.send(e)}}],[Ge,Ke,qt,qt]],ge=!1,ye=!1;function ve(t){const e=t.type;t.onclose=Bt,t.onmessage=Bt,t.oncommand=Bt;const r=3&e,s=me[e>>2][r];null==s||s.close()}function be(t,e){const{cmd:r,data:s}=e,n=t.type,o=n>>2,i=3&n,a=pe[o][i];let c=me[o][i],u=null;switch(r){case 175:ge=ge||s,ye=ye||e.isLSSPlayer;break;case 180:u=function(t,e,r,s){let n=t;n&&n.url!=e&&(Me(n),n=null);const o=r.type,i=3&o,a=$t[o>>2][i];return n||(Lr&&V.prototype.send!=V.prototype.sendForSafari&&(V.prototype.send=V.prototype.sendForSafari),n=new V(e,a),n.connect(),n.monitorlog=Y,n.onopen=Se.bind(null,r),n.onerror=Ae.bind(null,r),n.onclose=Ee.bind(null,r),n.onmessage=s),n}(c,s,t,a),me[o][i]=u,u.isReady()&&t.sendCommand({cmd:182});break;case 181:Me(c),me[o][i]=qt;break;case 176:{let e=se[o][i];e=function(t,e,r,s){var n;let o=t;o&&(null===(n=o.params)||void 0===n?void 0:n.url)!=e&&(we(o),o=null);const i=r.type,a=1&i,c=re[i>>2];if(!o){let t=1;a||(t=0);const n={url:e,label:c,id:0,onmessage:s,onopen:xe.bind(null,r),onclose:Oe.bind(null,r),groupSize:t};o=new ct(n),o.connect()}return o}(e,s,t,oe[o][i]),e.isReady()&&t.sendCommand({cmd:178});break}case 177:we(se[o][i]),se[o][i]=null;break;case 188:{ie[0]=s;let t=s;const e=t&&null!=_e[1]?0:1;xr.clear_share_data_buffer(),xr.setConnectType(2,e,!0,t);break}case 190:xr.video_set_hd_info(0==i,s);break;case 191:xr.update_bandwidth(0==i,e);break;case 192:{const{ismain:t,mode:r}=e;ie[1]=r;const s=r&&null!=_e[1]?0:1;t?xr.setMainShareConnectType(s,r,!1):xr.setConnectType(2,s,!1,r);break}case 193:xr.setSelfId(0==i,s);break;case 197:{const{appid:t,enable:r}=e;xr.enableQosSend(t,r);break}case 198:me[o][i].send(s)}}function we(t){t&&(t.params.onopen=()=>{},t.params.onclose=()=>{},t.forceClose())}function Me(t){t&&(t.onopen=()=>{},t.onclose=()=>{},t.onerror=()=>{},t.onmessage=()=>{},t.close())}function Se(t,e){Ue(t.type,0,!0)}function Ae(t,e){Ue(t.type,0,!1)}function Ee(t,e){Ue(t.type,0,!1)}function Te(t){t instanceof C&&postMessage({cmd:124,id:t.id});const e=t.type;te[e]=t;const r=e-1;2==r&&(te[r]=t);let s=0;4!=e?(ne[e][0]||(s|=He),ne[e[1]]||(s|=qe)):s=Be,We(e,t,s)}function Ce(t,e){t instanceof C&&postMessage({cmd:125,id:t.id,ev:e}),Re(t)}function ke(t){t instanceof C&&postMessage({cmd:126,id:t.id}),Re(t)}function Re(t){const e=t.type;te[e]=null;const r=e-1;2==r&&(te[r]=null);let s=0;if(4!=e){var n,o;const r=null===(n=se[e][0])||void 0===n?void 0:n.isReady(),i=null===(o=se[e][1])||void 0===o?void 0:o.isReady();r?ne[e][0]==t&&We(e,se[e][0],He):s|=He,i?ne[e][0]==t&&We(e,se[e][1],qe):s|=qe}(Be&s||4==e)&&Ve(e,s),t instanceof C&&(t.onmessage(Bt),t.close())}function Pe(t){const e=new Uint8Array(t.data),r=e[0],s=1&e[1],n=2&e[1];switch(r){case 103:xr.video_data_for_reciver(e);break;case 133:n?xr.share_data_for_main_reciver(e):xr.share_data_for_reciver(e);break;case 104:s?xr.video_data_for_reciver(e):xr.video_data_for_sender(e);break;case 132:s?n?xr.share_data_for_main_reciver(e):xr.share_data_for_reciver(e):xr.share_data_for_sender(e);break;case 20:Wt.send(e);break;case 130:Yt.send(e);break;case 7:default:Vt.send(e);break;case 78:zt.send(e)}}function Ie(t){const e=new Uint8Array(t.data),r=e[0],s=1&e[1];switch(r){case 107:case 6:default:jt.send(e);break;case 108:s?jt.send(e):Qt.send(e)}}function xe(t,e){const r=t.type,s=r>>2,n=3&r;let o=0;se[s][n]=e,ne[s][0]||(o|=He),We(s,e,o),Ne(t,0,!0)}function Oe(t,e){const r=t.type,s=r>>2,n=3&r,o=!(1&r);se[s][n]=null;let i=0;const a=te[s];o&&a?We(s,a,He):i|=He,!o&&a?We(s,a,qe):i|=qe,Be&i&&Ve(s,i),Ne(t,0,!1)}function De(t){const e=t[0];133==e||132==e||130==e?Pe({data:t.buffer}):Ke({data:t.buffer})}function Fe(t){const e=t[0];133==e||132==e||130==e?Pe({data:t.buffer}):Ge({data:t.buffer})}function Le(t){let e=new Uint8Array(t.data);switch(e[0]){case 0:!function(t){const e=t[1],r=5+(Date.now()&kr),s=t[4]<<24|t[5]<<16|t[6]<<8|t[7];r>Tr[e]&&s==Tr[e]&&(Tr[e]=r-s)}(e);break;case 107:case 108:Er.statInfo.dataDistributeAudio+=e.length,xr.mesh_audio_recive(e);break;case 132:case 133:Er.statInfo.dataDistributeAs+=e.length,xr.mesh_share_recive(e);break;case 104:case 103:Er.statInfo.dataDistributeVideo+=e.length,xr.mesh_video_recive(e);break;case 6:!Nt&&jt.send(e);break;case 7:Vt.send(e);break;case 77:case 78:case 79:zt.send(e)}}function Ue(t,e,r){var s;const n={cmd:r?182:183},o=t>>2,i=3&t,a=me[o][i],c=Jt[o][i],u=null===(s=ne[o][i])||void 0===s?void 0:s.isReady();c.sendCommand(n),r||(me[o][i]=qt),u?Ye(Jt[o][i],!0):fe[o][i]=me[o][i],!r&&(null==a||a.close())}function Ne(t,e,r){const s=r?178:179;t.sendCommand({cmd:s})}const He=1,qe=2,Be=He|qe;function Qe(t,e,r){e&He&&(t[0]=r),e&qe&&(t[1]=r,t[3]=r)}function je(t,e,r){e&He&&(t[0]=r[0]),e&qe&&(t[1]=r[1],t[3]=r[3])}function We(t,e,r){r&He&&(ne[t][0]=e),r&qe&&(ne[t][1]=e);const s=t-1;switch(2==s&&(r&He&&(ne[s][0]=e),r&qe&&(ne[s][1]=e)),t){case 1:Qe(ce,r,e),ge&&Qe(ue,r,e),r&He&&Ye(Qt,!0),r&qe&&Ye(jt,!0);break;case 3:r&He&&xr.setConnectType(3,0,!0,!1),r&qe&&xr.setConnectType(3,0,!1,!1),Qe(le,r,e),ge&&Qe(he,r,e),Qe(_e,r,e),ge&&Qe(de,r,e),r&He&&Ye(Wt,!0),r&qe&&Ye(Vt,!0);break;case 4:for(let t=1;t<4;t++)fe[t][2]=e,me[t][2]=e}}function Ve(t,e){e&He&&(ne[t][0]=null),e&qe&&(ne[t][1]=null);const r=t-1;switch(2==r&&(e&He&&(ne[r][0]=null),e&qe&&(ne[r][1]=null)),t){case 3:ge&&Qe(he,e,qt),je(le,e,he),ge&&Qe(de,e,qt),je(_e,e,de),e&He&&xr.setConnectType(3,1,!0,!1),e&qe&&xr.setConnectType(3,1,!1,!1),e&He&&xr.setConnectType(2,1,!0,ie[0]),e&qe&&(xr.setConnectType(2,1,!1,ie[1]),xr.setMainShareConnectType(1,ie[1],!1)),e&He&&Ye(Wt,!1),e&qe&&Ye(Vt,!1);break;case 1:ge&&Qe(ue,e,qt),je(ce,e,ue),e&He&&Ye(Qt,!1),e&qe&&Ye(jt,!1);break;case 4:for(let t=1;t<4;t++)fe[t][2]=qt,me[t][2]=qt;xr.closeMesh()}}function Ye(t,e){const r={cmd:189,data:e};t.sendCommand(r)}let ze=[];function Ge(t){let e=new Uint8Array(t.data);switch(e[0]){case 0:he[0].send(e);break;case 103:case 104:xr.video_data_for_sender(e);break;default:Wt.send(e)}}function Ke(t){let e=new Uint8Array(t.data);switch(e[0]){case 0:he[1].send(e);break;case 103:case 104:xr.video_data_for_reciver(e);break;case 7:Lt==Z.parent&&Xt.send(new Uint8Array(e)),Vt.send(e);break;default:Vt.send(e)}}function Xe(t){const e=new Uint8Array(t.data);0===e[0]?ue[0].send(e):Qt.send(e)}function Je(t){const e=new Uint8Array(t.data);switch(e[0]){case 0:ue[1].send(e);break;case 6:Lt==Z.parent&&Xt.send(new Uint8Array(e)),jt.send(e);break;default:jt.send(e)}}function $e(t,e,r){postMessage({cmd:21,id:t.id,tag:e,data:r})}function Ze(t,e,r,s,n){const o={cmd:E,type:e,bwLevel:s,networkLevel:r};if(3==t&&(0==n&&Wt.sendCommand(o),1==n&&Vt.sendCommand(o)),2==t&&(0==n&&Yt.sendCommand(o),1==n&&zt.sendCommand(o)),2==n){const t=Er.statInfo,e=Math.max(t.qosScore,r);t.qosScore=e}}function tr(t,e,r,s,n,o,i){var a=new Uint8Array(e+4),c=HEAPU8.subarray(t,t+e);a.set(c,4),a[0]=r,a[1]=s,a[2]=3,n?le[o].send(a):he[o].send(a)}function er(t,e,r,s,n,o){let i=new Uint8Array(4),a=HEAPU8.subarray(e,e+r);i[0]=2,i[1]=s,Vt.sendVideo(i,a)}function rr(t,e,r,s,n,o){let i=new Uint8Array(4),a=HEAPU8.subarray(e,e+r);i[0]=2,i[1]=s,Vt.sendVideo(i,a)}function sr(t,e,r,s,n,o,i,a){var c=new Uint8Array(e+4),u=HEAPU8.subarray(t,t+e);c.set(u,4),c[0]=r,c[1]=s,c[2]=2,_e[i].send(c)}function nr(t,e,r,s,n,o){let i=new Uint8Array(4),a=HEAPU8.subarray(e,e+r);i[0]=77,zt.sendVideo(i,a)}function or(t,e,r,s,n,o){let i=new Uint8Array(4),a=HEAPU8.subarray(e,e+r);i[0]=77,1==o?zt.sendVideo(i,a):Kt.sendVideo(i,a)}function ir(t,e,r,s,n,o){var i=new Uint8Array(r+4),a=HEAPU8.subarray(e,e+r);i.set(a,4),i[0]=t,i[1]=s,i[2]=1,ce[o].send(i)}function ar(t,e,r,s,n,o,i){let a=new Uint8Array(4);a[0]=1,a[1]=n,a[2]=1;let c=HEAPU8.subarray(e,e+r);!Nt&&jt.sendVideo(a,c)}function cr(t,e,r,s,n,o,i,a){var c=new Uint8Array(e+4),u=HEAPU8.subarray(t+0,t+e);const l=n&&ie[i];c.set(u,4);let h=3==i?2:0;c[0]=r,c[1]=s|h,l?_e[i].send(c):de[i].send(c)}function ur(t,e,r,s,n,o,i){var a=new Uint8Array(e+4),c=HEAPU8.subarray(t,t+e);if(a.set(c,4),a[0]=r,a[1]=s,n)le[o].send(a);else if(ye){const t={cmd:T,data:a};Vt.sendCommand(t)}else he[o].send(a)}function lr(t,e,r){const s={cmd:M,type:t,payload_type:e,ismain:3==r,issend:!0};Yt.sendCommand(s)}function hr(t,e,r){const s={cmd:S,bandwidth:t,lostrate:e,ismain:3==r,issend:!0};Yt.sendCommand(s)}function _r(t,e,r,s){const n={cmd:A,retran:t,retran_switched:e,lostrate:r,ismain:3==s,issend:!0};Yt.sendCommand(n)}function dr(t,e,r,s,n,o,i,a){const c=3==a,u={cmd:w,rtt:e,jitter:r,avg_loss:s,max_loss:n,bandwidth:o,rate:i,ismain:3==a,issend:t};2==a&&Lt!=Z.child||(c?!t&&Kt.sendCommand(u):t?Yt.sendCommand(u):zt.sendCommand(u))}function mr(t,e,r){const s={cmd:M,type:t,payload_type:e,issend:!0};0==r&&Wt.sendCommand(s)}function fr(t,e,r){const s={cmd:S,bandwidth:t,lostrate:e,issend:!0};0==r&&Wt.sendCommand(s)}function pr(t,e,r,s){const n={cmd:A,retran:t,retran_switched:e,lostrate:r,issend:!0};0==s&&Wt.sendCommand(n)}function gr(t,e,r,s,n,o,i,a){const c={cmd:w,rtt:e,jitter:r,avg_loss:s,max_loss:n,bandwidth:o,rate:i,issend:t};2==a&&Lt!=Z.child||(t?Wt.sendCommand(c):Vt.sendCommand(c))}function yr(t,e,r,s,n,o,i,a){const c={cmd:w,rtt:e,jitter:r,avg_loss:s,max_loss:n,bandwidth:o,rate:i,ismain:!1,issend:t};if(!t){zt.sendCommand(c);const t=Er.statInfo;t.latencyAs=(3*t.latencyAs+e)/4}}function vr(t,e,r,s,n,o,i,a){const c={cmd:w,rtt:e,jitter:r,avg_loss:s,max_loss:n,bandwidth:o,rate:i,issend:t};if(!t){Vt.sendCommand(c);const t=Er.statInfo;t.latencyVideo=(3*t.latencyVideo+e)/4}}function br(t,e,r,s,n,o,i,a){const c=Er.statInfo;c.latencyAudio=(3*c.latencyAudio+e)/4}function wr(t,e,r){const s=z(HEAPU8.subarray(t,t+e));Y("NETQOS:".concat(s))}function Mr(t,e,r,s,n,o){let i=HEAPU8.subarray(e,e+n),a=new Uint8Array(12),c=new DataView(a.buffer);c.setUint32(0,2),c.setUint32(4,t),c.setUint32(8,o),Xt.sendVideo(a,i)}function Sr(t,e,r,s,n,o){let i=HEAPU8.subarray(e,e+n),a=new Uint8Array(12),c=new DataView(a.buffer);c.setUint32(0,77),c.setUint32(4,t),c.setUint32(8,o),Xt.sendVideo(a,i)}function Ar(t,e){const r=z(HEAPU8.subarray(t,t+e));Y("NETMESH:".concat(r))}var Er=new class{constructor(){this.intervalid=-1,this.onreportfn=null,this.statInfo=nt()}set onreport(t){this.onreportfn=t}start(){-1==this.intervalid&&(this.statInfo.createTime=performance.now(),this.intervalid=setInterval(this._updatedata.bind(this),3e4))}_updatedata(){var t;let e=this.statInfo;this.statInfo=nt(),e.modifyTime=performance.now(),e.duration=Math.round(e.modifyTime-e.createTime),e.createTime=Math.round(e.createTime+st),e.modifyTime=Math.round(e.modifyTime+st),e.dataDistribute=e.dataDistributeAs+e.dataDistributeAudio+e.dataDistributeVideo,e.latencyAs=Math.floor(e.latencyAs),e.latencyAudio=Math.floor(e.latencyAudio),e.latencyVideo=Math.floor(e.latencyVideo),e.latency=Math.max(e.latencyAs,e.latencyAudio,e.latencyVideo),null===(t=this.onreportfn)||void 0===t||t.call(this,e)}stop(){-1!=this.intervalid&&(this._updatedata(),clearInterval(this.intervalid),this.intervalid=-1)}};Er.onreport=function(t){t.newRole=Z.child,postMessage({status:171,data:t})};var Tr=null;const Cr=10,kr=268435455;var Rr=null,Pr=0;function Ir(t){return t&&0!=t.length?(t.length>Pr&&(Rr&&_free(Rr),Pr=2*t.length,Rr=_malloc(Pr)),writeArrayToMemory(t,Rr),Rr):null}var xr=new class{constructor(){this.mesh_qos=null,this.qos_send=null,this.qos_reci=null,this.enablesharesend=!1,this.enablemesh=!1,this.recver_timer=0,this.sender_timer=0,this.qosSendAppId=[0,0,0,0],this.main_qos=null,this.enablemain=!1,this.selfnodeid=0}createSender(){this.qos_send||(this.qos_send=ut(3,0,0,!0,!1,!1,!1))}createReciver(){this.qos_reci||(this.qos_reci=ut(3,1,0,!1,!0,!1,!1)),this._set_request_nack_timer()}enableQosSend(t,e){this.qosSendAppId[t]!=e&&(this.qos_send&&(this.qosSendAppId[t]=e,e&&ht(this.qos_send,t,!1),!e&&_t(this.qos_send,t,!1)),this._set_smooth_send_timer())}setConnectType(t,e,r){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Tt(r?this.qos_send:this.qos_reci,t,e,s,r)}setMainShareConnectType(t,e,r){this.main_qos&&Tt(this.main_qos,2,t,e,r)}createMesh(){this.enablemesh=!0;const t=this.selfnodeid;this.mesh_qos||(this.mesh_qos=ut(1,2,t,!1,!0,!1,!1)),Y("NETADDMESH"),Tt(this.mesh_qos,1,0,!1,!1),Tt(this.mesh_qos,2,0,!1,!1),Tt(this.mesh_qos,3,0,!1,!1),this._set_request_nack_timer()}closeMesh(){this.enablemesh&&(Y("NETDELMESH"),this.enablemesh=!1,this._set_request_nack_timer(),this.mesh_qos&&lt(this.mesh_qos),this.mesh_qos=null)}createMainQos(){this.enablemain=!0,this.main_qos||(this.main_qos=ut(3,3,0,!1,!0,!0,!1)),this._set_request_nack_timer()}closeMainQos(){this.enablemain=!1,this._set_request_nack_timer(),this.main_qos&&lt(this.main_qos),this.main_qos=null}setSelfId(t,e){Y("NETSELFID:".concat(e)),this.selfnodeid=e,St(t?this.qos_send:this.qos_reci,e)}enableFilter(t){Y("NETFILTE:".concat(t)),Mt(this.qos_reci,t)}setOutFilter(t){wt(this.qos_reci,t)}_set_request_nack_timer(){this.recver_timer&&(clearInterval(this.recver_timer),this.recver_timer=0);const t=this.enablemesh?this.enablemain?()=>{It(this.qos_reci,2),It(this.qos_reci,3),It(this.mesh_qos,1),It(this.mesh_qos,2),It(this.mesh_qos,3),It(this.main_qos,2)}:()=>{It(this.qos_reci,2),It(this.qos_reci,3),It(this.mesh_qos,1),It(this.mesh_qos,2),It(this.mesh_qos,3)}:this.enablemain?()=>{It(this.qos_reci,2),It(this.qos_reci,3),It(this.main_qos,2)}:()=>{It(this.qos_reci,2),It(this.qos_reci,3)};this.recver_timer=setInterval(t,50)}_set_smooth_send_timer(){this.sender_timer&&(clearInterval(this.sender_timer),this.sender_timer=0);let t=[];for(let e=0;e<this.qosSendAppId.length;e++)this.qosSendAppId[e]&&t.push(e);t.length&&(this.sender_timer=setInterval((()=>{t.forEach((t=>{Pt(this.qos_send,t)}))}),10))}video_data_for_reciver(t){let e=Ir(t);Ct(this.qos_reci,e,t.length)}share_data_for_reciver(t){let e=Ir(t);kt(this.qos_reci,e,t.length)}share_data_for_main_reciver(t){let e=Ir(t);kt(this.main_qos,e,t.length)}audio_rtp_for_send(t){}update_bandwidth(t,e){const{appId:r,min:s,max:n}=e,o=t?this.qos_send:this.qos_reci;ft(o,r,s,n)}video_set_hd_info(t,e){const r=t?this.qos_send:this.qos_reci;pt(r,e)}video_rtp_for_send(t){let e=Ir(t);mt(this.qos_send,3,1,e+4,t.length-4)}video_data_for_sender(t){let e=Ir(t);Ct(this.qos_send,e,t.length)}share_rtp_for_sender(t){let e=Ir(t);mt(this.qos_send,2,1,e+4,t.length-4)}share_data_for_sender(t){let e=Ir(t);kt(this.qos_send,e,t.length)}clear_share_data_buffer(){this.qos_send&&gt(this.qos_send)}mesh_video_recive(t){let e=Ir(t);Ct(this.mesh_qos,e,t.length)}mesh_audio_recive(t){let e=Ir(t);Rt(this.mesh_qos,e,t.length)}mesh_share_recive(t){let e=Ir(t);kt(this.mesh_qos,e,t.length)}};function Or(t,e){Fr&&Fr.writeWasmLog(t,e)}function Dr(t,e){Fr&&Fr.writeWasmLog(t,e)}var Fr=null,Lr=!1;Object.keys(t).forEach((e=>self[e]=t[e]))})()})(),self.__wasmCodeDataEndFlag=1,(Module=void 0!==Module?Module:{}).locateFile=function(t){if(t.endsWith("wasm"))return wasmUrl},Module.instantiateWasm=function(t,e){return self.downloadAndInstantiateWebAssembly(t,e),{}},Module.onRuntimeInitialized=function(){postMessage({status:wasmSuccessEvent}),self.onWasmModuleReady()},Module.onAbort=function(t){postMessage({status:wasmFailEvent,data:t})};var read_,readAsync,readBinary,setWindowTitle,Module=void 0!==Module?Module:{},moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(t,e)=>{throw e},ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!0,scriptDirectory="";function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:"undefined"!=typeof document&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=0!==scriptDirectory.indexOf("blob:")?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),readAsync=(t,e,r)=>{var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=()=>{200==s.status||0==s.status&&s.response?e(s.response):r()},s.onerror=r,s.send(null)},setWindowTitle=t=>document.title=t);var wasmBinary,out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit),Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var wasmMemory,noExitRuntime=Module.noExitRuntime||!0;"object"!=typeof WebAssembly&&abort("no native wasm support detected");var EXITSTATUS,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,ABORT=!1,UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(t,e,r){for(var s=e+r,n=e;t[n]&&!(n>=s);)++n;if(n-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,n));for(var o="";e<n;){var i=t[e++];if(128&i){var a=63&t[e++];if(192!=(224&i)){var c=63&t[e++];if((i=224==(240&i)?(15&i)<<12|a<<6|c:(7&i)<<18|a<<12|c<<6|63&t[e++])<65536)o+=String.fromCharCode(i);else{var u=i-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&i)<<6|a)}else o+=String.fromCharCode(i)}return o}function UTF8ToString(t,e){return t?UTF8ArrayToString(HEAPU8,t,e):""}function stringToUTF8Array(t,e,r,s){if(!(s>0))return 0;for(var n=r,o=r+s-1,i=0;i<t.length;++i){var a=t.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++i)),a<=127){if(r>=o)break;e[r++]=a}else if(a<=2047){if(r+1>=o)break;e[r++]=192|a>>6,e[r++]=128|63&a}else if(a<=65535){if(r+2>=o)break;e[r++]=224|a>>12,e[r++]=128|a>>6&63,e[r++]=128|63&a}else{if(r+3>=o)break;e[r++]=240|a>>18,e[r++]=128|a>>12&63,e[r++]=128|a>>6&63,e[r++]=128|63&a}}return e[r]=0,r-n}function stringToUTF8(t,e,r){return stringToUTF8Array(t,HEAPU8,e,r)}function lengthBytesUTF8(t){for(var e=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s<=127?e++:s<=2047?e+=2:s>=55296&&s<=57343?(e+=4,++r):e+=3}return e}function updateGlobalBufferAndViews(t){buffer=t,Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=HEAP16=new Int16Array(t),Module.HEAP32=HEAP32=new Int32Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=HEAPU16=new Uint16Array(t),Module.HEAPU32=HEAPU32=new Uint32Array(t),Module.HEAPF32=HEAPF32=new Float32Array(t),Module.HEAPF64=HEAPF64=new Float64Array(t)}var wasmTable,INITIAL_MEMORY=Module.INITIAL_MEMORY||20971520;(wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:2048}))&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var __ATPRERUN__=[],__ATINIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__)}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(t){__ATPRERUN__.unshift(t)}function addOnInit(t){__ATINIT__.unshift(t)}function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}function abort(t){throw Module.onAbort&&Module.onAbort(t),err(t="Aborted("+t+")"),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(t)}var wasmBinaryFile,dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(t){return t.startsWith(dataURIPrefix)}function getBinary(t){try{if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}function getBinaryPromise(){return wasmBinary||!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER||"function"!=typeof fetch?Promise.resolve().then((function(){return getBinary(wasmBinaryFile)})):fetch(wasmBinaryFile,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return t.arrayBuffer()})).catch((function(){return getBinary(wasmBinaryFile)}))}function createWasm(){var t={a:asmLibraryArg};function e(t,e){var r=t.exports;Module.asm=r,wasmTable=Module.asm.U,addOnInit(Module.asm.A),removeRunDependency("wasm-instantiate")}function r(t){e(t.instance)}function s(e){return getBinaryPromise().then((function(e){return WebAssembly.instantiate(e,t)})).then((function(t){return t})).then(e,(function(t){err("failed to asynchronously prepare wasm: "+t),abort(t)}))}if(addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(t){return err("Module.instantiateWasm callback failed with error: "+t),!1}return wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(wasmBinaryFile)||"function"!=typeof fetch?s(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(r,(function(t){return err("wasm streaming compile failed: "+t),err("falling back to ArrayBuffer instantiation"),s(r)}))})),{}}isDataURI(wasmBinaryFile="net.wasm")||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={38772:(t,e,r,s,n,o,i)=>{video_data_from_qos(t,e,r,s,n,o,i)},38824:(t,e,r)=>{video_encode_fec_info(t,e,r)},38862:(t,e,r)=>{video_encode_bandwidth_alloc(t,e,r)},38907:(t,e,r,s,n,o,i,a)=>{video_network_info_indication(t,e,r,s,n,o,i,a)},38966:(t,e,r,s,n,o,i,a)=>{as_network_info_indication(t,e,r,s,n,o,i,a)},39022:(t,e,r,s,n,o,i,a)=>{video_as_data_from_qos(t,e,r,s,n,o,i,a)},39080:(t,e,r)=>{as_encode_fec_info(t,e,r)},39115:(t,e,r)=>{as_encode_bandwidth_alloc(t,e,r)},39157:(t,e,r,s,n,o)=>{recv_share_rtp_data(t,e,r,s,n,o)},39205:(t,e,r,s,n,o)=>{recv_share_rtp_data(t,e,r,s,n,o)},39253:(t,e,r,s,n,o)=>{as_out_filter_data(t,e,r,s,n,o)},39298:(t,e,r,s,n,o)=>{recv_video_rtp_data(t,e,r,s,n,o)},39345:(t,e,r,s,n,o)=>{recv_video_rtp_data(t,e,r,s,n,o)},39392:(t,e,r,s,n,o)=>{video_out_filter_data(t,e,r,s,n,o)},39440:(t,e,r,s,n)=>{network_quality_callback(t,e,r,s,n)},39486:(t,e,r,s)=>{video_encode_fec_retran_switch(t,e,r,s)},39536:(t,e,r,s)=>{as_encode_fec_retran_switch(t,e,r,s)},39583:(t,e,r,s,n,o,i,a)=>{mesh_video_as_data_from_qos(t,e,r,s,n,o,i,a)},39646:(t,e,r,s,n,o,i)=>{mesh_video_data_from_qos(t,e,r,s,n,o,i)},39703:(t,e,r,s,n,o,i,a)=>{mesh_video_network_info_indication(t,e,r,s,n,o,i,a)},39767:(t,e,r,s,n,o,i,a)=>{mesh_as_network_info_indication(t,e,r,s,n,o,i,a)},39828:(t,e,r,s,n,o)=>{mesh_recv_as_data(t,e,r,s,n,o)},39874:(t,e,r,s,n,o)=>{mesh_recv_video_data(t,e,r,s,n,o)},39923:(t,e,r,s,n,o,i)=>{mesh_recv_audio_data(t,e,r,s,n,o,i)},39976:(t,e,r,s,n,o)=>{mesh_audio_data_from_qos(t,e,r,s,n,o)},40030:(t,e,r,s,n,o,i,a)=>{mesh_audio_network_info_indication(t,e,r,s,n,o,i,a)},40094:t=>{mesh_bad_net_kick_child(t)},40126:(t,e,r)=>{mesh_bad_net_update_sub_mode_limit(t,e,r)},40177:t=>{mesh_bad_net_kick_child(t)},40209:(t,e,r)=>{mesh_bad_net_update_sub_mode_limit(t,e,r)},40260:(t,e,r)=>{mesh_qos_on_monitor_log(t,e,r)},40298:(t,e)=>{mesh_on_monitor_log(t,e)},40329:t=>{mesh_out_filter_nodeid_size(t)},40367:(t,e)=>{mesh_out_filter_nodeid(t,e)},40403:t=>{mesh_out_filter_nodeid(t)},40435:(t,e)=>{LOG_OUT(t,e)},40456:(t,e)=>{wcl_trace_log(t,e)}};function callRuntimeCallbacks(t){for(;t.length>0;)t.shift()(Module)}function ___cxa_allocate_exception(t){return _malloc(t+24)+24}function ExceptionInfo(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(t){HEAPU32[this.ptr+4>>2]=t},this.get_type=function(){return HEAPU32[this.ptr+4>>2]},this.set_destructor=function(t){HEAPU32[this.ptr+8>>2]=t},this.get_destructor=function(){return HEAPU32[this.ptr+8>>2]},this.set_refcount=function(t){HEAP32[this.ptr>>2]=t},this.set_caught=function(t){t=t?1:0,HEAP8[this.ptr+12|0]=t},this.get_caught=function(){return 0!=HEAP8[this.ptr+12|0]},this.set_rethrown=function(t){t=t?1:0,HEAP8[this.ptr+13|0]=t},this.get_rethrown=function(){return 0!=HEAP8[this.ptr+13|0]},this.init=function(t,e){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(e),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var t=HEAP32[this.ptr>>2];HEAP32[this.ptr>>2]=t+1},this.release_ref=function(){var t=HEAP32[this.ptr>>2];return HEAP32[this.ptr>>2]=t-1,1===t},this.set_adjusted_ptr=function(t){HEAPU32[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2]},this.get_exception_ptr=function(){if(___cxa_is_pointer_type(this.get_type()))return HEAPU32[this.excPtr>>2];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}var exceptionLast=0,uncaughtExceptionCount=0;function ___cxa_throw(t,e,r){throw new ExceptionInfo(t).init(e,r),exceptionLast=t,uncaughtExceptionCount++,t}var SYSCALLS={varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(t){return UTF8ToString(t)}};function ___syscall_fcntl64(t,e,r){return SYSCALLS.varargs=r,0}function ___syscall_getcwd(t,e){}function ___syscall_mkdirat(t,e,r){}function ___syscall_openat(t,e,r,s){SYSCALLS.varargs=s}function ___syscall_pipe(t){}function ___syscall_poll(t,e,r){}var nowIsMonotonic=!0;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}function readI53FromI64(t){return HEAPU32[t>>2]+4294967296*HEAP32[t+4>>2]}function __gmtime_js(t,e){var r=new Date(1e3*readI53FromI64(t));HEAP32[e>>2]=r.getUTCSeconds(),HEAP32[e+4>>2]=r.getUTCMinutes(),HEAP32[e+8>>2]=r.getUTCHours(),HEAP32[e+12>>2]=r.getUTCDate(),HEAP32[e+16>>2]=r.getUTCMonth(),HEAP32[e+20>>2]=r.getUTCFullYear()-1900,HEAP32[e+24>>2]=r.getUTCDay();var s=Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0),n=(r.getTime()-s)/864e5|0;HEAP32[e+28>>2]=n}function __isLeapYear(t){return t%4==0&&(t%100!=0||t%400==0)}var __MONTH_DAYS_LEAP_CUMULATIVE=[0,31,60,91,121,152,182,213,244,274,305,335],__MONTH_DAYS_REGULAR_CUMULATIVE=[0,31,59,90,120,151,181,212,243,273,304,334];function __yday_from_date(t){return(__isLeapYear(t.getFullYear())?__MONTH_DAYS_LEAP_CUMULATIVE:__MONTH_DAYS_REGULAR_CUMULATIVE)[t.getMonth()]+t.getDate()-1}function __localtime_js(t,e){var r=new Date(1e3*readI53FromI64(t));HEAP32[e>>2]=r.getSeconds(),HEAP32[e+4>>2]=r.getMinutes(),HEAP32[e+8>>2]=r.getHours(),HEAP32[e+12>>2]=r.getDate(),HEAP32[e+16>>2]=r.getMonth(),HEAP32[e+20>>2]=r.getFullYear()-1900,HEAP32[e+24>>2]=r.getDay();var s=0|__yday_from_date(r);HEAP32[e+28>>2]=s,HEAP32[e+36>>2]=-60*r.getTimezoneOffset();var n=new Date(r.getFullYear(),0,1),o=new Date(r.getFullYear(),6,1).getTimezoneOffset(),i=n.getTimezoneOffset(),a=0|(o!=i&&r.getTimezoneOffset()==Math.min(i,o));HEAP32[e+32>>2]=a}function allocateUTF8(t){var e=lengthBytesUTF8(t)+1,r=_malloc(e);return r&&stringToUTF8Array(t,HEAP8,r,e),r}function __tzset_js(t,e,r){var s=(new Date).getFullYear(),n=new Date(s,0,1),o=new Date(s,6,1),i=n.getTimezoneOffset(),a=o.getTimezoneOffset(),c=Math.max(i,a);function u(t){var e=t.toTimeString().match(/\(([A-Za-z ]+)\)$/);return e?e[1]:"GMT"}HEAPU32[t>>2]=60*c,HEAP32[e>>2]=Number(i!=a);var l=u(n),h=u(o),_=allocateUTF8(l),d=allocateUTF8(h);a<i?(HEAPU32[r>>2]=_,HEAPU32[r+4>>2]=d):(HEAPU32[r>>2]=d,HEAPU32[r+4>>2]=_)}function _abort(){abort("")}var _emscripten_get_now,readEmAsmArgsArray=[];function readEmAsmArgs(t,e){var r;for(readEmAsmArgsArray.length=0,e>>=2;r=HEAPU8[t++];)e+=105!=r&e,readEmAsmArgsArray.push(105==r?HEAP32[e]:HEAPF64[e++>>1]),++e;return readEmAsmArgsArray}function runEmAsmFunction(t,e,r){var s=readEmAsmArgs(e,r);return ASM_CONSTS[t].apply(null,s)}function _emscripten_asm_const_int(t,e,r){return runEmAsmFunction(t,e,r)}function _emscripten_date_now(){return Date.now()}function _emscripten_memcpy_big(t,e,r){HEAPU8.copyWithin(t,e,e+r)}function getHeapMax(){return 134217728}function emscripten_realloc_buffer(t){try{return wasmMemory.grow(t-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch(t){}}function _emscripten_resize_heap(t){var e=HEAPU8.length;t>>>=0;var r,s=getHeapMax();if(t>s)return self.wasm_memory_alert(t,s),!1;for(var n=1;n<=4;n*=2){var o=e*(1+.2/n);if(o=Math.min(o,t+100663296),emscripten_realloc_buffer(Math.min(s,(r=Math.max(t,o))+(65536-r%65536)%65536)))return!0}return!1}_emscripten_get_now=()=>performance.now();var ENV={};function getExecutableName(){return thisProgram||"./this.program"}function getEnvStrings(){if(!getEnvStrings.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:getExecutableName()};for(var e in ENV)void 0===ENV[e]?delete t[e]:t[e]=ENV[e];var r=[];for(var e in t)r.push(e+"="+t[e]);getEnvStrings.strings=r}return getEnvStrings.strings}function writeAsciiToMemory(t,e,r){for(var s=0;s<t.length;++s)HEAP8[0|e++]=t.charCodeAt(s);r||(HEAP8[0|e]=0)}function _environ_get(t,e){var r=0;return getEnvStrings().forEach((function(s,n){var o=e+r;HEAPU32[t+4*n>>2]=o,writeAsciiToMemory(s,o),r+=s.length+1})),0}function _environ_sizes_get(t,e){var r=getEnvStrings();HEAPU32[t>>2]=r.length;var s=0;return r.forEach((function(t){s+=t.length+1})),HEAPU32[e>>2]=s,0}function _fd_close(t){return 52}function _fd_read(t,e,r,s){return 52}function _fd_seek(t,e,r,s,n){return 70}var printCharBuffers=[null,[],[]];function printChar(t,e){var r=printCharBuffers[t];0===e||10===e?((1===t?out:err)(UTF8ArrayToString(r,0)),r.length=0):r.push(e)}function _fd_write(t,e,r,s){for(var n=0,o=0;o<r;o++){var i=HEAPU32[e>>2],a=HEAPU32[e+4>>2];e+=8;for(var c=0;c<a;c++)printChar(t,HEAPU8[i+c]);n+=a}return HEAPU32[s>>2]=n,0}function __arraySum(t,e){for(var r=0,s=0;s<=e;r+=t[s++]);return r}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31],__MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(t,e){for(var r=new Date(t.getTime());e>0;){var s=__isLeapYear(r.getFullYear()),n=r.getMonth(),o=(s?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[n];if(!(e>o-r.getDate()))return r.setDate(r.getDate()+e),r;e-=o-r.getDate()+1,r.setDate(1),n<11?r.setMonth(n+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}function intArrayFromString(t,e,r){var s=r>0?r:lengthBytesUTF8(t)+1,n=new Array(s),o=stringToUTF8Array(t,n,0,n.length);return e&&(n.length=o),n}function writeArrayToMemory(t,e){HEAP8.set(t,e)}function _strftime(t,e,r,s){var n=HEAP32[s+40>>2],o={tm_sec:HEAP32[s>>2],tm_min:HEAP32[s+4>>2],tm_hour:HEAP32[s+8>>2],tm_mday:HEAP32[s+12>>2],tm_mon:HEAP32[s+16>>2],tm_year:HEAP32[s+20>>2],tm_wday:HEAP32[s+24>>2],tm_yday:HEAP32[s+28>>2],tm_isdst:HEAP32[s+32>>2],tm_gmtoff:HEAP32[s+36>>2],tm_zone:n?UTF8ToString(n):""},i=UTF8ToString(r),a={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var c in a)i=i.replace(new RegExp(c,"g"),a[c]);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function h(t,e,r){for(var s="number"==typeof t?t.toString():t||"";s.length<e;)s=r[0]+s;return s}function _(t,e){return h(t,e,"0")}function d(t,e){function r(t){return t<0?-1:t>0?1:0}var s;return 0===(s=r(t.getFullYear()-e.getFullYear()))&&0===(s=r(t.getMonth()-e.getMonth()))&&(s=r(t.getDate()-e.getDate())),s}function m(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function f(t){var e=__addDays(new Date(t.tm_year+1900,0,1),t.tm_yday),r=new Date(e.getFullYear(),0,4),s=new Date(e.getFullYear()+1,0,4),n=m(r),o=m(s);return d(n,e)<=0?d(o,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var p={"%a":function(t){return u[t.tm_wday].substring(0,3)},"%A":function(t){return u[t.tm_wday]},"%b":function(t){return l[t.tm_mon].substring(0,3)},"%B":function(t){return l[t.tm_mon]},"%C":function(t){return _((t.tm_year+1900)/100|0,2)},"%d":function(t){return _(t.tm_mday,2)},"%e":function(t){return h(t.tm_mday,2," ")},"%g":function(t){return f(t).toString().substring(2)},"%G":function(t){return f(t)},"%H":function(t){return _(t.tm_hour,2)},"%I":function(t){var e=t.tm_hour;return 0==e?e=12:e>12&&(e-=12),_(e,2)},"%j":function(t){return _(t.tm_mday+__arraySum(__isLeapYear(t.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,t.tm_mon-1),3)},"%m":function(t){return _(t.tm_mon+1,2)},"%M":function(t){return _(t.tm_min,2)},"%n":function(){return"\n"},"%p":function(t){return t.tm_hour>=0&&t.tm_hour<12?"AM":"PM"},"%S":function(t){return _(t.tm_sec,2)},"%t":function(){return"\t"},"%u":function(t){return t.tm_wday||7},"%U":function(t){var e=t.tm_yday+7-t.tm_wday;return _(Math.floor(e/7),2)},"%V":function(t){var e=Math.floor((t.tm_yday+7-(t.tm_wday+6)%7)/7);if((t.tm_wday+371-t.tm_yday-2)%7<=2&&e++,e){if(53==e){var r=(t.tm_wday+371-t.tm_yday)%7;4==r||3==r&&__isLeapYear(t.tm_year)||(e=1)}}else{e=52;var s=(t.tm_wday+7-t.tm_yday-1)%7;(4==s||5==s&&__isLeapYear(t.tm_year%400-1))&&e++}return _(e,2)},"%w":function(t){return t.tm_wday},"%W":function(t){var e=t.tm_yday+7-(t.tm_wday+6)%7;return _(Math.floor(e/7),2)},"%y":function(t){return(t.tm_year+1900).toString().substring(2)},"%Y":function(t){return t.tm_year+1900},"%z":function(t){var e=t.tm_gmtoff,r=e>=0;return e=(e=Math.abs(e)/60)/60*100+e%60,(r?"+":"-")+String("0000"+e).slice(-4)},"%Z":function(t){return t.tm_zone},"%%":function(){return"%"}};for(var c in i=i.replace(/%%/g,"\0\0"),p)i.includes(c)&&(i=i.replace(new RegExp(c,"g"),p[c](o)));var g=intArrayFromString(i=i.replace(/\0\0/g,"%"),!1);return g.length>e?0:(writeArrayToMemory(g,t),g.length-1)}function _strftime_l(t,e,r,s,n){return _strftime(t,e,r,s)}function getCFunc(t){return Module["_"+t]}function ccall(t,e,r,s,n){var o={string:t=>{var e=0;if(null!=t&&0!==t){var r=1+(t.length<<2);stringToUTF8(t,e=stackAlloc(r),r)}return e},array:t=>{var e=stackAlloc(t.length);return writeArrayToMemory(t,e),e}},i=getCFunc(t),a=[],c=0;if(s)for(var u=0;u<s.length;u++){var l=o[r[u]];l?(0===c&&(c=stackSave()),a[u]=l(s[u])):a[u]=s[u]}var h=i.apply(null,a);return function(t){return 0!==c&&stackRestore(c),function(t){return"string"===e?UTF8ToString(t):"boolean"===e?Boolean(t):t}(t)}(h)}function cwrap(t,e,r,s){var n=(r=r||[]).every((t=>"number"===t||"boolean"===t));return"string"!==e&&n&&!s?getCFunc(t):function(){return ccall(t,e,r,arguments,s)}}var calledRun,asmLibraryArg={h:___cxa_allocate_exception,g:___cxa_throw,c:___syscall_fcntl64,z:___syscall_getcwd,y:___syscall_mkdirat,x:___syscall_openat,w:___syscall_pipe,v:___syscall_poll,r:__emscripten_get_now_is_monotonic,q:__gmtime_js,p:__localtime_js,o:__tzset_js,i:_abort,b:_emscripten_asm_const_int,e:_emscripten_date_now,n:_emscripten_memcpy_big,m:_emscripten_resize_heap,u:_environ_get,t:_environ_sizes_get,d:_fd_close,s:_fd_read,l:_fd_seek,f:_fd_write,a:wasmMemory,k:_strftime,j:_strftime_l},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.A).apply(null,arguments)},__Qos_Init=Module.__Qos_Init=function(){return(__Qos_Init=Module.__Qos_Init=Module.asm.B).apply(null,arguments)},__Qos_UnInit=Module.__Qos_UnInit=function(){return(__Qos_UnInit=Module.__Qos_UnInit=Module.asm.C).apply(null,arguments)},__Qos_Start_Send=Module.__Qos_Start_Send=function(){return(__Qos_Start_Send=Module.__Qos_Start_Send=Module.asm.D).apply(null,arguments)},__Qos_Stop_Send=Module.__Qos_Stop_Send=function(){return(__Qos_Stop_Send=Module.__Qos_Stop_Send=Module.asm.E).apply(null,arguments)},__Qos_Change_Connect_Type_Or_Video_Share=Module.__Qos_Change_Connect_Type_Or_Video_Share=function(){return(__Qos_Change_Connect_Type_Or_Video_Share=Module.__Qos_Change_Connect_Type_Or_Video_Share=Module.asm.F).apply(null,arguments)},__Qos_Send_Data_Packet=Module.__Qos_Send_Data_Packet=function(){return(__Qos_Send_Data_Packet=Module.__Qos_Send_Data_Packet=Module.asm.G).apply(null,arguments)},__Qos_Send_Data_Multi_Packet=Module.__Qos_Send_Data_Multi_Packet=function(){return(__Qos_Send_Data_Multi_Packet=Module.__Qos_Send_Data_Multi_Packet=Module.asm.H).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.I).apply(null,arguments)},__Qos_Data_From_Rwg=Module.__Qos_Data_From_Rwg=function(){return(__Qos_Data_From_Rwg=Module.__Qos_Data_From_Rwg=Module.asm.J).apply(null,arguments)},__Qos_AS_Data_From_Rwg=Module.__Qos_AS_Data_From_Rwg=function(){return(__Qos_AS_Data_From_Rwg=Module.__Qos_AS_Data_From_Rwg=Module.asm.K).apply(null,arguments)},__Qos_Audio_Data_From_Rwg=Module.__Qos_Audio_Data_From_Rwg=function(){return(__Qos_Audio_Data_From_Rwg=Module.__Qos_Audio_Data_From_Rwg=Module.asm.L).apply(null,arguments)},__Qos_Smooth_Send_Periodically_For_Qos=Module.__Qos_Smooth_Send_Periodically_For_Qos=function(){return(__Qos_Smooth_Send_Periodically_For_Qos=Module.__Qos_Smooth_Send_Periodically_For_Qos=Module.asm.M).apply(null,arguments)},__Qos_Request_Nack_T_Periodically_For_Qos=Module.__Qos_Request_Nack_T_Periodically_For_Qos=function(){return(__Qos_Request_Nack_T_Periodically_For_Qos=Module.__Qos_Request_Nack_T_Periodically_For_Qos=Module.asm.N).apply(null,arguments)},__Qos_Update_Required_Bandwidth=Module.__Qos_Update_Required_Bandwidth=function(){return(__Qos_Update_Required_Bandwidth=Module.__Qos_Update_Required_Bandwidth=Module.asm.O).apply(null,arguments)},__Qos_Update_Video_Hd_Info=Module.__Qos_Update_Video_Hd_Info=function(){return(__Qos_Update_Video_Hd_Info=Module.__Qos_Update_Video_Hd_Info=Module.asm.P).apply(null,arguments)},__Qos_Reset_As_Qos_Buffer=Module.__Qos_Reset_As_Qos_Buffer=function(){return(__Qos_Reset_As_Qos_Buffer=Module.__Qos_Reset_As_Qos_Buffer=Module.asm.Q).apply(null,arguments)},__Qos_Set_OutFilter=Module.__Qos_Set_OutFilter=function(){return(__Qos_Set_OutFilter=Module.__Qos_Set_OutFilter=Module.asm.R).apply(null,arguments)},__Qos_Enable_OutFilter=Module.__Qos_Enable_OutFilter=function(){return(__Qos_Enable_OutFilter=Module.__Qos_Enable_OutFilter=Module.asm.S).apply(null,arguments)},__Qos_Set_NodeId=Module.__Qos_Set_NodeId=function(){return(__Qos_Set_NodeId=Module.__Qos_Set_NodeId=Module.asm.T).apply(null,arguments)},__wcl_enable_log=Module.__wcl_enable_log=function(){return(__wcl_enable_log=Module.__wcl_enable_log=Module.asm.V).apply(null,arguments)},__mesh_init=Module.__mesh_init=function(){return(__mesh_init=Module.__mesh_init=Module.asm.W).apply(null,arguments)},__mesh_set_role=Module.__mesh_set_role=function(){return(__mesh_set_role=Module.__mesh_set_role=Module.asm.X).apply(null,arguments)},__mesh_thread_run=Module.__mesh_thread_run=function(){return(__mesh_thread_run=Module.__mesh_thread_run=Module.asm.Y).apply(null,arguments)},__mesh_add_child=Module.__mesh_add_child=function(){return(__mesh_add_child=Module.__mesh_add_child=Module.asm.Z).apply(null,arguments)},__mesh_rm_child=Module.__mesh_rm_child=function(){return(__mesh_rm_child=Module.__mesh_rm_child=Module.asm._).apply(null,arguments)},__mesh_bad_net=Module.__mesh_bad_net=function(){return(__mesh_bad_net=Module.__mesh_bad_net=Module.asm.$).apply(null,arguments)},__mesh_channle_opt=Module.__mesh_channle_opt=function(){return(__mesh_channle_opt=Module.__mesh_channle_opt=Module.asm.aa).apply(null,arguments)},__mesh_sub_infomap=Module.__mesh_sub_infomap=function(){return(__mesh_sub_infomap=Module.__mesh_sub_infomap=Module.asm.ba).apply(null,arguments)},__mesh_send=Module.__mesh_send=function(){return(__mesh_send=Module.__mesh_send=Module.asm.ca).apply(null,arguments)},__mesh_recv=Module.__mesh_recv=function(){return(__mesh_recv=Module.__mesh_recv=Module.asm.da).apply(null,arguments)},__mesh_reciver_recv=Module.__mesh_reciver_recv=function(){return(__mesh_reciver_recv=Module.__mesh_reciver_recv=Module.asm.ea).apply(null,arguments)},__mesh_uninit=Module.__mesh_uninit=function(){return(__mesh_uninit=Module.__mesh_uninit=Module.asm.fa).apply(null,arguments)},__mesh_set_as_mode=Module.__mesh_set_as_mode=function(){return(__mesh_set_as_mode=Module.__mesh_set_as_mode=Module.asm.ga).apply(null,arguments)},__mesh_out_filter_test=Module.__mesh_out_filter_test=function(){return(__mesh_out_filter_test=Module.__mesh_out_filter_test=Module.asm.ha).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.ia).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.ja).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.ka).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.la).apply(null,arguments)},___cxa_is_pointer_type=Module.___cxa_is_pointer_type=function(){return(___cxa_is_pointer_type=Module.___cxa_is_pointer_type=Module.asm.ma).apply(null,arguments)};function run(t){function e(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),postRun()))}t=t||arguments_,runDependencies>0||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Module.setStatus("")}),1),e()}),1)):e()))}if(Module.cwrap=cwrap,dependenciesFulfilled=function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)},Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();run();
//# sourceMappingURL=https://d1cdksi819e9z7.cloudfront.net/sourcemap/net_thread.min.js-c2bfedf429aa8986e50f.map